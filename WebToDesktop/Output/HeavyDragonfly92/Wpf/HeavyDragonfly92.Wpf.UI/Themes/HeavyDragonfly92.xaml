<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:controls="clr-namespace:HeavyDragonfly92.Wpf.UI.Controls">

    <ResourceDictionary.MergedDictionaries>
        <ResourceDictionary Source="/HeavyDragonfly92.Wpf.UI;component/Themes/HeavyDragonfly92Resources.xaml"/>
    </ResourceDictionary.MergedDictionaries>

    <!-- BooleanToVisibilityConverter -->
    <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter"/>

    <!-- HeavyDragonfly92Item Style -->
    <Style TargetType="{x:Type controls:HeavyDragonfly92Item}">
        <Setter Property="Height" Value="{StaticResource HeavyDragonfly92.Tab.Height}"/>
        <Setter Property="Width" Value="{StaticResource HeavyDragonfly92.Tab.Width}"/>
        <Setter Property="FontSize" Value="{StaticResource HeavyDragonfly92.Tab.FontSize}"/>
        <Setter Property="FontWeight" Value="Medium"/>
        <Setter Property="Foreground" Value="{StaticResource HeavyDragonfly92.Tab.Foreground}"/>
        <Setter Property="Cursor" Value="Hand"/>
        <Setter Property="HorizontalContentAlignment" Value="Center"/>
        <Setter Property="VerticalContentAlignment" Value="Center"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type controls:HeavyDragonfly92Item}">
                    <Grid>
                        <Border x:Name="PART_Border"
                                Background="Transparent"
                                CornerRadius="{StaticResource HeavyDragonfly92.CornerRadius}">
                            <Grid>
                                <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                                  VerticalAlignment="{TemplateBinding VerticalContentAlignment}"/>

                                <!-- Notification Badge -->
                                <Border x:Name="PART_NotificationBadge"
                                        Width="{StaticResource HeavyDragonfly92.Notification.Size}"
                                        Height="{StaticResource HeavyDragonfly92.Notification.Size}"
                                        CornerRadius="6.4"
                                        Background="{StaticResource HeavyDragonfly92.Glider.Background}"
                                        HorizontalAlignment="Right"
                                        VerticalAlignment="Top"
                                        Margin="0,-2,-6,0"
                                        Visibility="{TemplateBinding ShowNotification, Converter={StaticResource BooleanToVisibilityConverter}}">
                                    <TextBlock Text="{TemplateBinding NotificationCount}"
                                               FontSize="{StaticResource HeavyDragonfly92.Notification.FontSize}"
                                               Foreground="{StaticResource HeavyDragonfly92.Tab.Foreground}"
                                               HorizontalAlignment="Center"
                                               VerticalAlignment="Center"
                                               x:Name="PART_NotificationText"/>
                                </Border>
                            </Grid>
                        </Border>
                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsSelected" Value="True">
                            <Setter Property="Foreground" Value="{StaticResource HeavyDragonfly92.Selected.Foreground}"/>
                            <Setter TargetName="PART_NotificationBadge" Property="Background" Value="{StaticResource HeavyDragonfly92.Selected.Foreground}"/>
                            <Setter TargetName="PART_NotificationText" Property="Foreground" Value="{StaticResource HeavyDragonfly92.Notification.Selected.Foreground}"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- HeavyDragonfly92 Style -->
    <Style TargetType="{x:Type controls:HeavyDragonfly92}">
        <Setter Property="Background" Value="{StaticResource HeavyDragonfly92.Background}"/>
        <Setter Property="Padding" Value="{StaticResource HeavyDragonfly92.Padding}"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type controls:HeavyDragonfly92}">
                    <Border Background="{TemplateBinding Background}"
                            Padding="{TemplateBinding Padding}"
                            CornerRadius="{StaticResource HeavyDragonfly92.CornerRadius}">
                        <Border.Effect>
                            <DropShadowEffect Color="{StaticResource HeavyDragonfly92.Shadow.Color}"
                                              BlurRadius="12"
                                              ShadowDepth="3"
                                              Direction="270"
                                              Opacity="0.3"/>
                        </Border.Effect>

                        <Grid>
                            <!-- Glider (sliding background) -->
                            <Border x:Name="PART_Glider"
                                    Width="{StaticResource HeavyDragonfly92.Tab.Width}"
                                    Height="{StaticResource HeavyDragonfly92.Tab.Height}"
                                    Background="{StaticResource HeavyDragonfly92.Glider.Background}"
                                    CornerRadius="{StaticResource HeavyDragonfly92.CornerRadius}"
                                    HorizontalAlignment="Left"
                                    Panel.ZIndex="0">
                                <Border.RenderTransform>
                                    <TranslateTransform x:Name="GliderTransform" X="0"/>
                                </Border.RenderTransform>
                            </Border>

                            <!-- Items Panel -->
                            <ItemsPresenter Panel.ZIndex="1"/>
                        </Grid>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
        <Setter Property="ItemsPanel">
            <Setter.Value>
                <ItemsPanelTemplate>
                    <StackPanel Orientation="Horizontal"/>
                </ItemsPanelTemplate>
            </Setter.Value>
        </Setter>
    </Style>

</ResourceDictionary>
