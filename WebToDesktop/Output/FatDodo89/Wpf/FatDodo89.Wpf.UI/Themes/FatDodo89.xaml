<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:controls="clr-namespace:FatDodo89.Wpf.UI.Controls">

    <ResourceDictionary.MergedDictionaries>
        <ResourceDictionary Source="/FatDodo89.Wpf.UI;component/Themes/FatDodo89Resources.xaml"/>
    </ResourceDictionary.MergedDictionaries>

    <Style TargetType="{x:Type controls:FatDodo89}">
        <Setter Property="Width" Value="{StaticResource FatDodo89.Size}"/>
        <Setter Property="Height" Value="{StaticResource FatDodo89.Size}"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type controls:FatDodo89}">
                    <!-- ViewBox scales 128x128 coordinate space to control size -->
                    <Viewbox Stretch="Uniform">
                        <Canvas Width="128" Height="128" ClipToBounds="True">
                            <!-- Cyan layer (top half visible via clip) -->
                            <Canvas>
                                <!-- Eye 1 (Cyan) - rotates from -260 to 225 degrees -->
                                <Ellipse x:Name="Eye1Cyan"
                                         Width="16" Height="16"
                                         Fill="{StaticResource FatDodo89.Brush.Cyan}"
                                         Canvas.Left="56" Canvas.Top="0"
                                         RenderTransformOrigin="0.5,4.5">
                                    <Ellipse.RenderTransform>
                                        <TransformGroup>
                                            <ScaleTransform x:Name="Eye1CyanScale" ScaleX="1" ScaleY="1"/>
                                            <RotateTransform x:Name="Eye1CyanRotate" Angle="-40"/>
                                        </TransformGroup>
                                    </Ellipse.RenderTransform>
                                </Ellipse>

                                <!-- Eye 2 (Cyan) - rotates from -260 to 150 degrees -->
                                <Ellipse x:Name="Eye2Cyan"
                                         Width="16" Height="16"
                                         Fill="{StaticResource FatDodo89.Brush.Cyan}"
                                         Canvas.Left="56" Canvas.Top="0"
                                         RenderTransformOrigin="0.5,4.5">
                                    <Ellipse.RenderTransform>
                                        <TransformGroup>
                                            <ScaleTransform x:Name="Eye2CyanScale" ScaleX="1" ScaleY="1"/>
                                            <RotateTransform x:Name="Eye2CyanRotate" Angle="40"/>
                                        </TransformGroup>
                                    </Ellipse.RenderTransform>
                                </Ellipse>

                                <!-- Mouth 1 (Cyan) - arc that appears/disappears -->
                                <Path x:Name="Mouth1Cyan"
                                      Stroke="{StaticResource FatDodo89.Brush.Cyan}"
                                      StrokeThickness="12"
                                      StrokeStartLineCap="Round"
                                      StrokeEndLineCap="Round"
                                      StrokeDashArray="0 1000"
                                      StrokeDashCap="Round"
                                      RenderTransformOrigin="0.5,0.5">
                                    <Path.Data>
                                        <EllipseGeometry Center="64,64" RadiusX="56" RadiusY="56"/>
                                    </Path.Data>
                                    <Path.RenderTransform>
                                        <RotateTransform x:Name="Mouth1CyanRotate" Angle="180"/>
                                    </Path.RenderTransform>
                                </Path>

                                <!-- Mouth 2 (Cyan) - hidden initially, appears at 50% -->
                                <Path x:Name="Mouth2Cyan"
                                      Stroke="{StaticResource FatDodo89.Brush.Cyan}"
                                      StrokeThickness="12"
                                      StrokeStartLineCap="Round"
                                      StrokeEndLineCap="Round"
                                      StrokeDashArray="0 1000"
                                      StrokeDashCap="Round"
                                      Visibility="Hidden"
                                      RenderTransformOrigin="0.5,0.5">
                                    <Path.Data>
                                        <EllipseGeometry Center="64,64" RadiusX="56" RadiusY="56"/>
                                    </Path.Data>
                                    <Path.RenderTransform>
                                        <RotateTransform x:Name="Mouth2CyanRotate" Angle="0"/>
                                    </Path.RenderTransform>
                                </Path>
                            </Canvas>

                            <!-- Blue layer (bottom half visible via linear gradient mask) -->
                            <Canvas>
                                <Canvas.OpacityMask>
                                    <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                                        <GradientStop Color="Black" Offset="0"/>
                                        <GradientStop Color="White" Offset="1"/>
                                    </LinearGradientBrush>
                                </Canvas.OpacityMask>

                                <!-- Eye 1 (Blue) -->
                                <Ellipse x:Name="Eye1Blue"
                                         Width="16" Height="16"
                                         Fill="{StaticResource FatDodo89.Brush.Blue}"
                                         Canvas.Left="56" Canvas.Top="0"
                                         RenderTransformOrigin="0.5,4.5">
                                    <Ellipse.RenderTransform>
                                        <TransformGroup>
                                            <ScaleTransform x:Name="Eye1BlueScale" ScaleX="1" ScaleY="1"/>
                                            <RotateTransform x:Name="Eye1BlueRotate" Angle="-40"/>
                                        </TransformGroup>
                                    </Ellipse.RenderTransform>
                                </Ellipse>

                                <!-- Eye 2 (Blue) -->
                                <Ellipse x:Name="Eye2Blue"
                                         Width="16" Height="16"
                                         Fill="{StaticResource FatDodo89.Brush.Blue}"
                                         Canvas.Left="56" Canvas.Top="0"
                                         RenderTransformOrigin="0.5,4.5">
                                    <Ellipse.RenderTransform>
                                        <TransformGroup>
                                            <ScaleTransform x:Name="Eye2BlueScale" ScaleX="1" ScaleY="1"/>
                                            <RotateTransform x:Name="Eye2BlueRotate" Angle="40"/>
                                        </TransformGroup>
                                    </Ellipse.RenderTransform>
                                </Ellipse>

                                <!-- Mouth 1 (Blue) -->
                                <Path x:Name="Mouth1Blue"
                                      Stroke="{StaticResource FatDodo89.Brush.Blue}"
                                      StrokeThickness="12"
                                      StrokeStartLineCap="Round"
                                      StrokeEndLineCap="Round"
                                      StrokeDashArray="0 1000"
                                      StrokeDashCap="Round"
                                      RenderTransformOrigin="0.5,0.5">
                                    <Path.Data>
                                        <EllipseGeometry Center="64,64" RadiusX="56" RadiusY="56"/>
                                    </Path.Data>
                                    <Path.RenderTransform>
                                        <RotateTransform x:Name="Mouth1BlueRotate" Angle="180"/>
                                    </Path.RenderTransform>
                                </Path>

                                <!-- Mouth 2 (Blue) -->
                                <Path x:Name="Mouth2Blue"
                                      Stroke="{StaticResource FatDodo89.Brush.Blue}"
                                      StrokeThickness="12"
                                      StrokeStartLineCap="Round"
                                      StrokeEndLineCap="Round"
                                      StrokeDashArray="0 1000"
                                      StrokeDashCap="Round"
                                      Visibility="Hidden"
                                      RenderTransformOrigin="0.5,0.5">
                                    <Path.Data>
                                        <EllipseGeometry Center="64,64" RadiusX="56" RadiusY="56"/>
                                    </Path.Data>
                                    <Path.RenderTransform>
                                        <RotateTransform x:Name="Mouth2BlueRotate" Angle="0"/>
                                    </Path.RenderTransform>
                                </Path>
                            </Canvas>
                        </Canvas>
                    </Viewbox>

                    <ControlTemplate.Triggers>
                        <EventTrigger RoutedEvent="Loaded">
                            <BeginStoryboard>
                                <Storyboard RepeatBehavior="Forever">
                                    <!-- ========== Eye 1 Animation (Cyan) ========== -->
                                    <!-- Rotation: -260 -> -40 (at 50%) -> 225 -->
                                    <DoubleAnimationUsingKeyFrames
                                        Storyboard.TargetName="Eye1CyanRotate"
                                        Storyboard.TargetProperty="Angle">
                                        <SplineDoubleKeyFrame KeyTime="0:0:0" Value="-260"/>
                                        <SplineDoubleKeyFrame KeyTime="0:0:1.5" Value="-40" KeySpline="0.17,0,0.58,1"/>
                                        <SplineDoubleKeyFrame KeyTime="0:0:1.8" Value="-40"/>
                                        <SplineDoubleKeyFrame KeyTime="0:0:3" Value="225"/>
                                    </DoubleAnimationUsingKeyFrames>
                                    <!-- Scale: 1 -> 1 (at 50%) -> 0.35 -->
                                    <DoubleAnimationUsingKeyFrames
                                        Storyboard.TargetName="Eye1CyanScale"
                                        Storyboard.TargetProperty="ScaleX">
                                        <SplineDoubleKeyFrame KeyTime="0:0:0" Value="1"/>
                                        <SplineDoubleKeyFrame KeyTime="0:0:1.5" Value="1"/>
                                        <SplineDoubleKeyFrame KeyTime="0:0:3" Value="0.35"/>
                                    </DoubleAnimationUsingKeyFrames>
                                    <DoubleAnimationUsingKeyFrames
                                        Storyboard.TargetName="Eye1CyanScale"
                                        Storyboard.TargetProperty="ScaleY">
                                        <SplineDoubleKeyFrame KeyTime="0:0:0" Value="1"/>
                                        <SplineDoubleKeyFrame KeyTime="0:0:1.5" Value="1"/>
                                        <SplineDoubleKeyFrame KeyTime="0:0:3" Value="0.35"/>
                                    </DoubleAnimationUsingKeyFrames>

                                    <!-- ========== Eye 1 Animation (Blue) ========== -->
                                    <DoubleAnimationUsingKeyFrames
                                        Storyboard.TargetName="Eye1BlueRotate"
                                        Storyboard.TargetProperty="Angle">
                                        <SplineDoubleKeyFrame KeyTime="0:0:0" Value="-260"/>
                                        <SplineDoubleKeyFrame KeyTime="0:0:1.5" Value="-40" KeySpline="0.17,0,0.58,1"/>
                                        <SplineDoubleKeyFrame KeyTime="0:0:1.8" Value="-40"/>
                                        <SplineDoubleKeyFrame KeyTime="0:0:3" Value="225"/>
                                    </DoubleAnimationUsingKeyFrames>
                                    <DoubleAnimationUsingKeyFrames
                                        Storyboard.TargetName="Eye1BlueScale"
                                        Storyboard.TargetProperty="ScaleX">
                                        <SplineDoubleKeyFrame KeyTime="0:0:0" Value="1"/>
                                        <SplineDoubleKeyFrame KeyTime="0:0:1.5" Value="1"/>
                                        <SplineDoubleKeyFrame KeyTime="0:0:3" Value="0.35"/>
                                    </DoubleAnimationUsingKeyFrames>
                                    <DoubleAnimationUsingKeyFrames
                                        Storyboard.TargetName="Eye1BlueScale"
                                        Storyboard.TargetProperty="ScaleY">
                                        <SplineDoubleKeyFrame KeyTime="0:0:0" Value="1"/>
                                        <SplineDoubleKeyFrame KeyTime="0:0:1.5" Value="1"/>
                                        <SplineDoubleKeyFrame KeyTime="0:0:3" Value="0.35"/>
                                    </DoubleAnimationUsingKeyFrames>

                                    <!-- ========== Eye 2 Animation (Cyan) ========== -->
                                    <!-- Rotation: -260 -> 40 (at 50%) -> 150 -->
                                    <DoubleAnimationUsingKeyFrames
                                        Storyboard.TargetName="Eye2CyanRotate"
                                        Storyboard.TargetProperty="Angle">
                                        <SplineDoubleKeyFrame KeyTime="0:0:0" Value="-260"/>
                                        <SplineDoubleKeyFrame KeyTime="0:0:1.5" Value="40"/>
                                        <SplineDoubleKeyFrame KeyTime="0:0:1.65" Value="40"/>
                                        <SplineDoubleKeyFrame KeyTime="0:0:2.1" Value="40" KeySpline="0,0,0.28,1"/>
                                        <SplineDoubleKeyFrame KeyTime="0:0:3" Value="150"/>
                                    </DoubleAnimationUsingKeyFrames>
                                    <!-- Eye 2 blink at 52.5%: ScaleY 1->0->1 -->
                                    <DoubleAnimationUsingKeyFrames
                                        Storyboard.TargetName="Eye2CyanScale"
                                        Storyboard.TargetProperty="ScaleY">
                                        <SplineDoubleKeyFrame KeyTime="0:0:0" Value="1"/>
                                        <SplineDoubleKeyFrame KeyTime="0:0:1.5" Value="1"/>
                                        <SplineDoubleKeyFrame KeyTime="0:0:1.575" Value="0"/>
                                        <SplineDoubleKeyFrame KeyTime="0:0:1.65" Value="1"/>
                                        <SplineDoubleKeyFrame KeyTime="0:0:2.1" Value="1"/>
                                        <SplineDoubleKeyFrame KeyTime="0:0:3" Value="0.4"/>
                                    </DoubleAnimationUsingKeyFrames>
                                    <DoubleAnimationUsingKeyFrames
                                        Storyboard.TargetName="Eye2CyanScale"
                                        Storyboard.TargetProperty="ScaleX">
                                        <SplineDoubleKeyFrame KeyTime="0:0:0" Value="1"/>
                                        <SplineDoubleKeyFrame KeyTime="0:0:2.1" Value="1"/>
                                        <SplineDoubleKeyFrame KeyTime="0:0:3" Value="0.4"/>
                                    </DoubleAnimationUsingKeyFrames>

                                    <!-- ========== Eye 2 Animation (Blue) ========== -->
                                    <DoubleAnimationUsingKeyFrames
                                        Storyboard.TargetName="Eye2BlueRotate"
                                        Storyboard.TargetProperty="Angle">
                                        <SplineDoubleKeyFrame KeyTime="0:0:0" Value="-260"/>
                                        <SplineDoubleKeyFrame KeyTime="0:0:1.5" Value="40"/>
                                        <SplineDoubleKeyFrame KeyTime="0:0:1.65" Value="40"/>
                                        <SplineDoubleKeyFrame KeyTime="0:0:2.1" Value="40" KeySpline="0,0,0.28,1"/>
                                        <SplineDoubleKeyFrame KeyTime="0:0:3" Value="150"/>
                                    </DoubleAnimationUsingKeyFrames>
                                    <DoubleAnimationUsingKeyFrames
                                        Storyboard.TargetName="Eye2BlueScale"
                                        Storyboard.TargetProperty="ScaleY">
                                        <SplineDoubleKeyFrame KeyTime="0:0:0" Value="1"/>
                                        <SplineDoubleKeyFrame KeyTime="0:0:1.5" Value="1"/>
                                        <SplineDoubleKeyFrame KeyTime="0:0:1.575" Value="0"/>
                                        <SplineDoubleKeyFrame KeyTime="0:0:1.65" Value="1"/>
                                        <SplineDoubleKeyFrame KeyTime="0:0:2.1" Value="1"/>
                                        <SplineDoubleKeyFrame KeyTime="0:0:3" Value="0.4"/>
                                    </DoubleAnimationUsingKeyFrames>
                                    <DoubleAnimationUsingKeyFrames
                                        Storyboard.TargetName="Eye2BlueScale"
                                        Storyboard.TargetProperty="ScaleX">
                                        <SplineDoubleKeyFrame KeyTime="0:0:0" Value="1"/>
                                        <SplineDoubleKeyFrame KeyTime="0:0:2.1" Value="1"/>
                                        <SplineDoubleKeyFrame KeyTime="0:0:3" Value="0.4"/>
                                    </DoubleAnimationUsingKeyFrames>

                                    <!-- ========== Mouth 1 Animation (Cyan) ========== -->
                                    <!-- StrokeDashArray animation: 0,1000 -> 5,5 (arc appears) -->
                                    <!-- Using rotation to simulate the mouth arc appearing -->
                                    <DoubleAnimationUsingKeyFrames
                                        Storyboard.TargetName="Mouth1CyanRotate"
                                        Storyboard.TargetProperty="Angle">
                                        <EasingDoubleKeyFrame KeyTime="0:0:0" Value="180"/>
                                        <EasingDoubleKeyFrame KeyTime="0:0:0.75" Value="270">
                                            <EasingDoubleKeyFrame.EasingFunction>
                                                <QuadraticEase EasingMode="EaseIn"/>
                                            </EasingDoubleKeyFrame.EasingFunction>
                                        </EasingDoubleKeyFrame>
                                        <EasingDoubleKeyFrame KeyTime="0:0:1.5" Value="360">
                                            <EasingDoubleKeyFrame.EasingFunction>
                                                <QuadraticEase EasingMode="EaseOut"/>
                                            </EasingDoubleKeyFrame.EasingFunction>
                                        </EasingDoubleKeyFrame>
                                    </DoubleAnimationUsingKeyFrames>
                                    <!-- Mouth 1 visibility: visible until 50%, hidden after -->
                                    <ObjectAnimationUsingKeyFrames
                                        Storyboard.TargetName="Mouth1Cyan"
                                        Storyboard.TargetProperty="Visibility">
                                        <DiscreteObjectKeyFrame KeyTime="0:0:0" Value="{x:Static Visibility.Visible}"/>
                                        <DiscreteObjectKeyFrame KeyTime="0:0:1.5" Value="{x:Static Visibility.Hidden}"/>
                                    </ObjectAnimationUsingKeyFrames>
                                    <!-- StrokeDashArray animation -->
                                    <DoubleAnimationUsingKeyFrames
                                        Storyboard.TargetName="Mouth1Cyan"
                                        Storyboard.TargetProperty="StrokeDashOffset">
                                        <EasingDoubleKeyFrame KeyTime="0:0:0" Value="0"/>
                                        <EasingDoubleKeyFrame KeyTime="0:0:0.75" Value="-2.5">
                                            <EasingDoubleKeyFrame.EasingFunction>
                                                <QuadraticEase EasingMode="EaseIn"/>
                                            </EasingDoubleKeyFrame.EasingFunction>
                                        </EasingDoubleKeyFrame>
                                        <EasingDoubleKeyFrame KeyTime="0:0:1.5" Value="-5">
                                            <EasingDoubleKeyFrame.EasingFunction>
                                                <QuadraticEase EasingMode="EaseOut"/>
                                            </EasingDoubleKeyFrame.EasingFunction>
                                        </EasingDoubleKeyFrame>
                                    </DoubleAnimationUsingKeyFrames>

                                    <!-- ========== Mouth 1 Animation (Blue) ========== -->
                                    <DoubleAnimationUsingKeyFrames
                                        Storyboard.TargetName="Mouth1BlueRotate"
                                        Storyboard.TargetProperty="Angle">
                                        <EasingDoubleKeyFrame KeyTime="0:0:0" Value="180"/>
                                        <EasingDoubleKeyFrame KeyTime="0:0:0.75" Value="270">
                                            <EasingDoubleKeyFrame.EasingFunction>
                                                <QuadraticEase EasingMode="EaseIn"/>
                                            </EasingDoubleKeyFrame.EasingFunction>
                                        </EasingDoubleKeyFrame>
                                        <EasingDoubleKeyFrame KeyTime="0:0:1.5" Value="360">
                                            <EasingDoubleKeyFrame.EasingFunction>
                                                <QuadraticEase EasingMode="EaseOut"/>
                                            </EasingDoubleKeyFrame.EasingFunction>
                                        </EasingDoubleKeyFrame>
                                    </DoubleAnimationUsingKeyFrames>
                                    <ObjectAnimationUsingKeyFrames
                                        Storyboard.TargetName="Mouth1Blue"
                                        Storyboard.TargetProperty="Visibility">
                                        <DiscreteObjectKeyFrame KeyTime="0:0:0" Value="{x:Static Visibility.Visible}"/>
                                        <DiscreteObjectKeyFrame KeyTime="0:0:1.5" Value="{x:Static Visibility.Hidden}"/>
                                    </ObjectAnimationUsingKeyFrames>
                                    <DoubleAnimationUsingKeyFrames
                                        Storyboard.TargetName="Mouth1Blue"
                                        Storyboard.TargetProperty="StrokeDashOffset">
                                        <EasingDoubleKeyFrame KeyTime="0:0:0" Value="0"/>
                                        <EasingDoubleKeyFrame KeyTime="0:0:0.75" Value="-2.5">
                                            <EasingDoubleKeyFrame.EasingFunction>
                                                <QuadraticEase EasingMode="EaseIn"/>
                                            </EasingDoubleKeyFrame.EasingFunction>
                                        </EasingDoubleKeyFrame>
                                        <EasingDoubleKeyFrame KeyTime="0:0:1.5" Value="-5">
                                            <EasingDoubleKeyFrame.EasingFunction>
                                                <QuadraticEase EasingMode="EaseOut"/>
                                            </EasingDoubleKeyFrame.EasingFunction>
                                        </EasingDoubleKeyFrame>
                                    </DoubleAnimationUsingKeyFrames>

                                    <!-- ========== Mouth 2 Animation (Cyan) ========== -->
                                    <!-- Mouth 2 appears at 50%, then rotates -->
                                    <ObjectAnimationUsingKeyFrames
                                        Storyboard.TargetName="Mouth2Cyan"
                                        Storyboard.TargetProperty="Visibility">
                                        <DiscreteObjectKeyFrame KeyTime="0:0:0" Value="{x:Static Visibility.Hidden}"/>
                                        <DiscreteObjectKeyFrame KeyTime="0:0:1.5" Value="{x:Static Visibility.Visible}"/>
                                    </ObjectAnimationUsingKeyFrames>
                                    <DoubleAnimationUsingKeyFrames
                                        Storyboard.TargetName="Mouth2CyanRotate"
                                        Storyboard.TargetProperty="Angle">
                                        <EasingDoubleKeyFrame KeyTime="0:0:1.5" Value="0"/>
                                        <EasingDoubleKeyFrame KeyTime="0:0:3" Value="-180">
                                            <EasingDoubleKeyFrame.EasingFunction>
                                                <QuadraticEase EasingMode="EaseInOut"/>
                                            </EasingDoubleKeyFrame.EasingFunction>
                                        </EasingDoubleKeyFrame>
                                    </DoubleAnimationUsingKeyFrames>

                                    <!-- ========== Mouth 2 Animation (Blue) ========== -->
                                    <ObjectAnimationUsingKeyFrames
                                        Storyboard.TargetName="Mouth2Blue"
                                        Storyboard.TargetProperty="Visibility">
                                        <DiscreteObjectKeyFrame KeyTime="0:0:0" Value="{x:Static Visibility.Hidden}"/>
                                        <DiscreteObjectKeyFrame KeyTime="0:0:1.5" Value="{x:Static Visibility.Visible}"/>
                                    </ObjectAnimationUsingKeyFrames>
                                    <DoubleAnimationUsingKeyFrames
                                        Storyboard.TargetName="Mouth2BlueRotate"
                                        Storyboard.TargetProperty="Angle">
                                        <EasingDoubleKeyFrame KeyTime="0:0:1.5" Value="0"/>
                                        <EasingDoubleKeyFrame KeyTime="0:0:3" Value="-180">
                                            <EasingDoubleKeyFrame.EasingFunction>
                                                <QuadraticEase EasingMode="EaseInOut"/>
                                            </EasingDoubleKeyFrame.EasingFunction>
                                        </EasingDoubleKeyFrame>
                                    </DoubleAnimationUsingKeyFrames>
                                </Storyboard>
                            </BeginStoryboard>
                        </EventTrigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

</ResourceDictionary>
