<ResourceDictionary xmlns="https://github.com/avaloniaui"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:controls="using:SpottyZebra83.Avalonia.Lib.Controls">

    <!-- Colors -->
    <Color x:Key="TooltipButton.Background">#333333</Color>
    <Color x:Key="TooltipButton.Foreground">#e8e8e8</Color>
    <SolidColorBrush x:Key="TooltipButton.BackgroundBrush" Color="{StaticResource TooltipButton.Background}" />
    <SolidColorBrush x:Key="TooltipButton.ForegroundBrush" Color="{StaticResource TooltipButton.Foreground}" />

    <ControlTheme x:Key="{x:Type controls:TooltipButton}" TargetType="controls:TooltipButton">
        <Setter Property="Width" Value="180" />
        <Setter Property="Height" Value="60" />
        <Setter Property="FontSize" Value="18" />
        <Setter Property="FontWeight" Value="SemiBold" />
        <Setter Property="Foreground" Value="{StaticResource TooltipButton.ForegroundBrush}" />
        <Setter Property="Cursor" Value="Hand" />
        <Setter Property="Template">
            <ControlTemplate>
                <Panel>
                    <!-- Tooltip (appears above on hover) -->
                    <Border x:Name="PART_Tooltip"
                            Background="{StaticResource TooltipButton.BackgroundBrush}"
                            CornerRadius="8"
                            Padding="6,4"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Top"
                            Margin="0,-50,0,0"
                            Opacity="0"
                            RenderTransformOrigin="0.5,1"
                            BoxShadow="0 8 15 #40000000">
                        <Border.RenderTransform>
                            <ScaleTransform ScaleX="0" ScaleY="0" />
                        </Border.RenderTransform>
                        <Panel>
                            <TextBlock Text="{TemplateBinding TooltipText}"
                                       FontSize="16"
                                       FontWeight="Normal"
                                       Foreground="{StaticResource TooltipButton.ForegroundBrush}"
                                       HorizontalAlignment="Center"
                                       VerticalAlignment="Center" />
                            <!-- Arrow pointing down -->
                            <Border Width="10"
                                    Height="10"
                                    Background="{StaticResource TooltipButton.BackgroundBrush}"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Bottom"
                                    Margin="0,0,0,-5"
                                    RenderTransformOrigin="0.5,0.5">
                                <Border.RenderTransform>
                                    <RotateTransform Angle="45" />
                                </Border.RenderTransform>
                            </Border>
                        </Panel>
                    </Border>

                    <!-- Main Container -->
                    <Border x:Name="PART_Container"
                            Background="Transparent"
                            BorderBrush="{StaticResource TooltipButton.ForegroundBrush}"
                            BorderThickness="2"
                            CornerRadius="8"
                            Width="180"
                            Height="60"
                            ClipToBounds="True">
                        <Panel>
                            <!-- Default Text -->
                            <TextBlock x:Name="PART_Text"
                                       Text="{TemplateBinding Text}"
                                       HorizontalAlignment="Center"
                                       VerticalAlignment="Center"
                                       FontSize="{TemplateBinding FontSize}"
                                       FontWeight="{TemplateBinding FontWeight}"
                                       Foreground="{TemplateBinding Foreground}"
                                       RenderTransformOrigin="0,0.5">
                                <TextBlock.RenderTransform>
                                    <ScaleTransform ScaleX="1" ScaleY="1" />
                                </TextBlock.RenderTransform>
                            </TextBlock>

                            <!-- Hover Background with Text (slides in from right) -->
                            <Border x:Name="PART_HoverBackground"
                                    Background="{StaticResource TooltipButton.BackgroundBrush}"
                                    CornerRadius="6"
                                    RenderTransformOrigin="0,0.5">
                                <Border.RenderTransform>
                                    <ScaleTransform ScaleX="0" ScaleY="1" />
                                </Border.RenderTransform>
                                <TextBlock Text="{TemplateBinding HoverText}"
                                           HorizontalAlignment="Center"
                                           VerticalAlignment="Center"
                                           FontSize="{TemplateBinding FontSize}"
                                           FontWeight="{TemplateBinding FontWeight}"
                                           Foreground="White" />
                            </Border>
                        </Panel>
                    </Border>
                </Panel>
            </ControlTemplate>
        </Setter>

        <!-- PointerOver State -->
        <Style Selector="^:pointerover">
            <Style Selector="^ /template/ Border#PART_Container">
                <Setter Property="BorderBrush" Value="Transparent" />
                <Setter Property="BoxShadow" Value="0 8 15 #40000000" />
            </Style>
            <Style Selector="^ /template/ Border#PART_Tooltip">
                <Setter Property="Opacity" Value="1" />
                <Setter Property="RenderTransform">
                    <ScaleTransform ScaleX="1" ScaleY="1" />
                </Setter>
                <Style.Animations>
                    <Animation Duration="0:0:0.4" Easing="CubicEaseOut" FillMode="Forward">
                        <KeyFrame Cue="0%">
                            <Setter Property="Opacity" Value="0" />
                            <Setter Property="ScaleTransform.ScaleX" Value="0" />
                            <Setter Property="ScaleTransform.ScaleY" Value="0" />
                        </KeyFrame>
                        <KeyFrame Cue="100%">
                            <Setter Property="Opacity" Value="1" />
                            <Setter Property="ScaleTransform.ScaleX" Value="1" />
                            <Setter Property="ScaleTransform.ScaleY" Value="1" />
                        </KeyFrame>
                    </Animation>
                </Style.Animations>
            </Style>
            <Style Selector="^ /template/ TextBlock#PART_Text">
                <Setter Property="Opacity" Value="0" />
                <Setter Property="RenderTransform">
                    <ScaleTransform ScaleX="0" ScaleY="0" />
                </Setter>
                <Style.Animations>
                    <Animation Duration="0:0:0.4" Easing="CubicEaseOut" FillMode="Forward">
                        <KeyFrame Cue="0%">
                            <Setter Property="Opacity" Value="1" />
                            <Setter Property="ScaleTransform.ScaleX" Value="1" />
                            <Setter Property="ScaleTransform.ScaleY" Value="1" />
                        </KeyFrame>
                        <KeyFrame Cue="100%">
                            <Setter Property="Opacity" Value="0" />
                            <Setter Property="ScaleTransform.ScaleX" Value="0" />
                            <Setter Property="ScaleTransform.ScaleY" Value="0" />
                        </KeyFrame>
                    </Animation>
                </Style.Animations>
            </Style>
            <Style Selector="^ /template/ Border#PART_HoverBackground">
                <Setter Property="RenderTransform">
                    <ScaleTransform ScaleX="1" ScaleY="1" />
                </Setter>
                <Style.Animations>
                    <Animation Duration="0:0:0.4" Easing="CubicEaseOut" FillMode="Forward">
                        <KeyFrame Cue="0%">
                            <Setter Property="ScaleTransform.ScaleX" Value="0" />
                        </KeyFrame>
                        <KeyFrame Cue="100%">
                            <Setter Property="ScaleTransform.ScaleX" Value="1" />
                        </KeyFrame>
                    </Animation>
                </Style.Animations>
            </Style>
        </Style>
    </ControlTheme>

</ResourceDictionary>
