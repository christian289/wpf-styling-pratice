<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:controls="clr-namespace:SpottyZebra83.Wpf.UI.Controls">

    <ResourceDictionary.MergedDictionaries>
        <ResourceDictionary Source="/SpottyZebra83.Wpf.UI;component/Themes/SpottyZebra83Resources.xaml" />
    </ResourceDictionary.MergedDictionaries>

    <Style TargetType="{x:Type controls:SpottyZebra83}">
        <Setter Property="Width" Value="{StaticResource SpottyZebra83.Width}" />
        <Setter Property="Height" Value="{StaticResource SpottyZebra83.Height}" />
        <Setter Property="FontSize" Value="{StaticResource SpottyZebra83.FontSize}" />
        <Setter Property="FontWeight" Value="SemiBold" />
        <Setter Property="Foreground" Value="{StaticResource SpottyZebra83.Foreground}" />
        <Setter Property="Cursor" Value="Hand" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type controls:SpottyZebra83}">
                    <Grid x:Name="RootGrid">
                        <!-- 메인 컨테이너 (Main Container) -->
                        <Border x:Name="MainBorder"
                                Background="Transparent"
                                BorderBrush="{StaticResource SpottyZebra83.Border}"
                                BorderThickness="{StaticResource SpottyZebra83.BorderThickness}"
                                CornerRadius="{StaticResource SpottyZebra83.CornerRadius}">
                            <Border.Effect>
                                <DropShadowEffect x:Name="MainShadow"
                                                  ShadowDepth="8"
                                                  Direction="270"
                                                  Opacity="0"
                                                  BlurRadius="15"
                                                  Color="#000000" />
                            </Border.Effect>
                            <Grid ClipToBounds="True">
                                <!-- 기본 텍스트 (Default Text / Content) -->
                                <ContentPresenter x:Name="DefaultText"
                                                  HorizontalAlignment="Center"
                                                  VerticalAlignment="Center"
                                                  TextBlock.FontWeight="SemiBold">
                                    <ContentPresenter.RenderTransform>
                                        <TransformGroup>
                                            <ScaleTransform x:Name="DefaultTextScale" ScaleX="1" ScaleY="1" />
                                            <TranslateTransform x:Name="DefaultTextTranslate" X="0" Y="0" />
                                        </TransformGroup>
                                    </ContentPresenter.RenderTransform>
                                </ContentPresenter>

                                <!-- 호버 배경 (Hover Background) -->
                                <Border x:Name="HoverBackground"
                                        Background="{StaticResource SpottyZebra83.Background}"
                                        CornerRadius="{StaticResource SpottyZebra83.CornerRadius}"
                                        RenderTransformOrigin="0,0.5">
                                    <Border.RenderTransform>
                                        <TransformGroup>
                                            <ScaleTransform x:Name="HoverBackgroundScale" ScaleX="0" ScaleY="1" />
                                            <TranslateTransform x:Name="HoverBackgroundTranslate" X="180" Y="0" />
                                        </TransformGroup>
                                    </Border.RenderTransform>

                                    <!-- 호버 텍스트 (Hover Text) -->
                                    <TextBlock x:Name="HoverText"
                                               Text="{TemplateBinding HoverText}"
                                               HorizontalAlignment="Center"
                                               VerticalAlignment="Center"
                                               FontSize="{StaticResource SpottyZebra83.FontSize}"
                                               FontWeight="SemiBold"
                                               Foreground="{StaticResource SpottyZebra83.Foreground.Hover}" />
                                </Border>
                            </Grid>
                        </Border>

                        <!-- 툴팁 컨테이너 (Tooltip Container) -->
                        <Grid x:Name="TooltipContainer"
                              HorizontalAlignment="Center"
                              VerticalAlignment="Top"
                              Margin="0,-60,0,0"
                              Opacity="0"
                              RenderTransformOrigin="0.5,1">
                            <Grid.RenderTransform>
                                <TransformGroup>
                                    <ScaleTransform x:Name="TooltipScale" ScaleX="0" ScaleY="0" />
                                    <RotateTransform x:Name="TooltipRotate" Angle="0" />
                                </TransformGroup>
                            </Grid.RenderTransform>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>

                            <!-- 툴팁 본체 (Tooltip Body) -->
                            <Border Grid.Row="0"
                                    Background="{StaticResource SpottyZebra83.Background}"
                                    CornerRadius="{StaticResource SpottyZebra83.CornerRadius}"
                                    Padding="{StaticResource SpottyZebra83.Tooltip.Padding}">
                                <Border.Effect>
                                    <DropShadowEffect ShadowDepth="8"
                                                      Direction="270"
                                                      Opacity="0.25"
                                                      BlurRadius="15"
                                                      Color="#000000" />
                                </Border.Effect>
                                <TextBlock Text="{TemplateBinding TooltipText}"
                                           FontSize="{StaticResource SpottyZebra83.Tooltip.FontSize}"
                                           FontWeight="Normal"
                                           Foreground="{StaticResource SpottyZebra83.Foreground}" />
                            </Border>

                            <!-- 툴팁 화살표 (Tooltip Arrow) -->
                            <Polygon Grid.Row="1"
                                     Points="0,0 5,8 10,0"
                                     Fill="{StaticResource SpottyZebra83.Background}"
                                     HorizontalAlignment="Center"
                                     Margin="0,-1,0,0" />
                        </Grid>
                    </Grid>

                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <!-- 호버 시 테두리 투명화 -->
                            <Setter TargetName="MainBorder" Property="BorderBrush" Value="Transparent" />
                            <Setter TargetName="DefaultText" Property="TextBlock.Foreground" Value="{StaticResource SpottyZebra83.Foreground.Hover}" />

                            <!-- 애니메이션 트리거 -->
                            <Trigger.EnterActions>
                                <BeginStoryboard x:Name="HoverEnterStoryboard">
                                    <Storyboard>
                                        <!-- 메인 그림자 표시 -->
                                        <DoubleAnimation Storyboard.TargetName="MainShadow"
                                                         Storyboard.TargetProperty="Opacity"
                                                         To="0.25"
                                                         Duration="0:0:0.4">
                                            <DoubleAnimation.EasingFunction>
                                                <CubicEase EasingMode="EaseOut" />
                                            </DoubleAnimation.EasingFunction>
                                        </DoubleAnimation>

                                        <!-- 기본 텍스트 사라짐 (scale 0, 오른쪽으로 이동) -->
                                        <DoubleAnimation Storyboard.TargetName="DefaultTextScale"
                                                         Storyboard.TargetProperty="ScaleX"
                                                         To="0"
                                                         Duration="0:0:0.4">
                                            <DoubleAnimation.EasingFunction>
                                                <CubicEase EasingMode="EaseOut" />
                                            </DoubleAnimation.EasingFunction>
                                        </DoubleAnimation>
                                        <DoubleAnimation Storyboard.TargetName="DefaultTextScale"
                                                         Storyboard.TargetProperty="ScaleY"
                                                         To="0"
                                                         Duration="0:0:0.4">
                                            <DoubleAnimation.EasingFunction>
                                                <CubicEase EasingMode="EaseOut" />
                                            </DoubleAnimation.EasingFunction>
                                        </DoubleAnimation>
                                        <DoubleAnimation Storyboard.TargetName="DefaultTextTranslate"
                                                         Storyboard.TargetProperty="X"
                                                         To="180"
                                                         Duration="0:0:0.4">
                                            <DoubleAnimation.EasingFunction>
                                                <CubicEase EasingMode="EaseOut" />
                                            </DoubleAnimation.EasingFunction>
                                        </DoubleAnimation>

                                        <!-- 호버 배경 표시 (왼쪽에서 슬라이드 인) -->
                                        <DoubleAnimation Storyboard.TargetName="HoverBackgroundScale"
                                                         Storyboard.TargetProperty="ScaleX"
                                                         To="1"
                                                         Duration="0:0:0.4">
                                            <DoubleAnimation.EasingFunction>
                                                <CubicEase EasingMode="EaseOut" />
                                            </DoubleAnimation.EasingFunction>
                                        </DoubleAnimation>
                                        <DoubleAnimation Storyboard.TargetName="HoverBackgroundTranslate"
                                                         Storyboard.TargetProperty="X"
                                                         To="0"
                                                         Duration="0:0:0.4">
                                            <DoubleAnimation.EasingFunction>
                                                <CubicEase EasingMode="EaseOut" />
                                            </DoubleAnimation.EasingFunction>
                                        </DoubleAnimation>

                                        <!-- 툴팁 표시 -->
                                        <DoubleAnimation Storyboard.TargetName="TooltipContainer"
                                                         Storyboard.TargetProperty="Opacity"
                                                         To="1"
                                                         Duration="0:0:0.4">
                                            <DoubleAnimation.EasingFunction>
                                                <CubicEase EasingMode="EaseOut" />
                                            </DoubleAnimation.EasingFunction>
                                        </DoubleAnimation>
                                        <DoubleAnimation Storyboard.TargetName="TooltipScale"
                                                         Storyboard.TargetProperty="ScaleX"
                                                         To="1"
                                                         Duration="0:0:0.4">
                                            <DoubleAnimation.EasingFunction>
                                                <CubicEase EasingMode="EaseOut" />
                                            </DoubleAnimation.EasingFunction>
                                        </DoubleAnimation>
                                        <DoubleAnimation Storyboard.TargetName="TooltipScale"
                                                         Storyboard.TargetProperty="ScaleY"
                                                         To="1"
                                                         Duration="0:0:0.4">
                                            <DoubleAnimation.EasingFunction>
                                                <CubicEase EasingMode="EaseOut" />
                                            </DoubleAnimation.EasingFunction>
                                        </DoubleAnimation>

                                        <!-- 툴팁 흔들림 (Shake) 애니메이션 -->
                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="TooltipRotate"
                                                                       Storyboard.TargetProperty="Angle">
                                            <EasingDoubleKeyFrame KeyTime="0:0:0" Value="0" />
                                            <EasingDoubleKeyFrame KeyTime="0:0:0.125" Value="7" />
                                            <EasingDoubleKeyFrame KeyTime="0:0:0.25" Value="-7" />
                                            <EasingDoubleKeyFrame KeyTime="0:0:0.375" Value="1" />
                                            <EasingDoubleKeyFrame KeyTime="0:0:0.5" Value="0" />
                                        </DoubleAnimationUsingKeyFrames>
                                    </Storyboard>
                                </BeginStoryboard>
                            </Trigger.EnterActions>

                            <Trigger.ExitActions>
                                <StopStoryboard BeginStoryboardName="HoverEnterStoryboard" />
                                <BeginStoryboard>
                                    <Storyboard>
                                        <!-- 메인 그림자 숨김 -->
                                        <DoubleAnimation Storyboard.TargetName="MainShadow"
                                                         Storyboard.TargetProperty="Opacity"
                                                         To="0"
                                                         Duration="0:0:0.4">
                                            <DoubleAnimation.EasingFunction>
                                                <CubicEase EasingMode="EaseOut" />
                                            </DoubleAnimation.EasingFunction>
                                        </DoubleAnimation>

                                        <!-- 기본 텍스트 복원 -->
                                        <DoubleAnimation Storyboard.TargetName="DefaultTextScale"
                                                         Storyboard.TargetProperty="ScaleX"
                                                         To="1"
                                                         Duration="0:0:0.4">
                                            <DoubleAnimation.EasingFunction>
                                                <CubicEase EasingMode="EaseOut" />
                                            </DoubleAnimation.EasingFunction>
                                        </DoubleAnimation>
                                        <DoubleAnimation Storyboard.TargetName="DefaultTextScale"
                                                         Storyboard.TargetProperty="ScaleY"
                                                         To="1"
                                                         Duration="0:0:0.4">
                                            <DoubleAnimation.EasingFunction>
                                                <CubicEase EasingMode="EaseOut" />
                                            </DoubleAnimation.EasingFunction>
                                        </DoubleAnimation>
                                        <DoubleAnimation Storyboard.TargetName="DefaultTextTranslate"
                                                         Storyboard.TargetProperty="X"
                                                         To="0"
                                                         Duration="0:0:0.4">
                                            <DoubleAnimation.EasingFunction>
                                                <CubicEase EasingMode="EaseOut" />
                                            </DoubleAnimation.EasingFunction>
                                        </DoubleAnimation>

                                        <!-- 호버 배경 숨김 -->
                                        <DoubleAnimation Storyboard.TargetName="HoverBackgroundScale"
                                                         Storyboard.TargetProperty="ScaleX"
                                                         To="0"
                                                         Duration="0:0:0.4">
                                            <DoubleAnimation.EasingFunction>
                                                <CubicEase EasingMode="EaseOut" />
                                            </DoubleAnimation.EasingFunction>
                                        </DoubleAnimation>
                                        <DoubleAnimation Storyboard.TargetName="HoverBackgroundTranslate"
                                                         Storyboard.TargetProperty="X"
                                                         To="180"
                                                         Duration="0:0:0.4">
                                            <DoubleAnimation.EasingFunction>
                                                <CubicEase EasingMode="EaseOut" />
                                            </DoubleAnimation.EasingFunction>
                                        </DoubleAnimation>

                                        <!-- 툴팁 숨김 -->
                                        <DoubleAnimation Storyboard.TargetName="TooltipContainer"
                                                         Storyboard.TargetProperty="Opacity"
                                                         To="0"
                                                         Duration="0:0:0.4">
                                            <DoubleAnimation.EasingFunction>
                                                <CubicEase EasingMode="EaseOut" />
                                            </DoubleAnimation.EasingFunction>
                                        </DoubleAnimation>
                                        <DoubleAnimation Storyboard.TargetName="TooltipScale"
                                                         Storyboard.TargetProperty="ScaleX"
                                                         To="0"
                                                         Duration="0:0:0.4">
                                            <DoubleAnimation.EasingFunction>
                                                <CubicEase EasingMode="EaseOut" />
                                            </DoubleAnimation.EasingFunction>
                                        </DoubleAnimation>
                                        <DoubleAnimation Storyboard.TargetName="TooltipScale"
                                                         Storyboard.TargetProperty="ScaleY"
                                                         To="0"
                                                         Duration="0:0:0.4">
                                            <DoubleAnimation.EasingFunction>
                                                <CubicEase EasingMode="EaseOut" />
                                            </DoubleAnimation.EasingFunction>
                                        </DoubleAnimation>
                                        <DoubleAnimation Storyboard.TargetName="TooltipRotate"
                                                         Storyboard.TargetProperty="Angle"
                                                         To="0"
                                                         Duration="0:0:0.2" />
                                    </Storyboard>
                                </BeginStoryboard>
                            </Trigger.ExitActions>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

</ResourceDictionary>
