<ResourceDictionary xmlns="https://github.com/avaloniaui"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:controls="using:SlipperyDragonfly42.Avalonia.Lib.Controls">

    <!-- Color Resources - Tailwind CSS Gray/Indigo palette -->
    <Color x:Key="Gray400">#9CA3AF</Color>
    <Color x:Key="Gray700">#374151</Color>
    <Color x:Key="Gray800">#1F2937</Color>
    <Color x:Key="Indigo400">#818CF8</Color>
    <Color x:Key="Indigo500">#6366F1</Color>
    <Color x:Key="Indigo600">#4F46E5</Color>
    <Color x:Key="Gray900">#111827</Color>

    <SolidColorBrush x:Key="Gray400Brush" Color="{StaticResource Gray400}" />
    <SolidColorBrush x:Key="Gray700Brush" Color="{StaticResource Gray700}" />
    <SolidColorBrush x:Key="Gray800Brush" Color="{StaticResource Gray800}" />
    <SolidColorBrush x:Key="Indigo400Brush" Color="{StaticResource Indigo400}" />
    <SolidColorBrush x:Key="Indigo500Brush" Color="{StaticResource Indigo500}" />
    <SolidColorBrush x:Key="Indigo600Brush" Color="{StaticResource Indigo600}" />
    <SolidColorBrush x:Key="Gray900Brush" Color="{StaticResource Gray900}" />

    <!-- TextBox Style for Login Form -->
    <ControlTheme x:Key="LoginTextBoxTheme" TargetType="TextBox">
        <Setter Property="Background" Value="{StaticResource Gray700Brush}" />
        <Setter Property="Foreground" Value="White" />
        <Setter Property="BorderBrush" Value="{StaticResource Gray700Brush}" />
        <Setter Property="BorderThickness" Value="1" />
        <Setter Property="CornerRadius" Value="6" />
        <Setter Property="Padding" Value="12,12" />
        <Setter Property="FontSize" Value="14" />
        <Setter Property="CaretBrush" Value="White" />
        <Setter Property="SelectionBrush" Value="{StaticResource Indigo500Brush}" />
        <Setter Property="Template">
            <ControlTemplate>
                <Border Name="PART_BorderElement"
                        Background="{TemplateBinding Background}"
                        BorderBrush="{TemplateBinding BorderBrush}"
                        BorderThickness="{TemplateBinding BorderThickness}"
                        CornerRadius="{TemplateBinding CornerRadius}">
                    <DockPanel>
                        <TextBlock Name="PART_Watermark"
                                   DockPanel.Dock="Left"
                                   Text="{TemplateBinding Watermark}"
                                   Foreground="{StaticResource Gray400Brush}"
                                   IsVisible="{TemplateBinding Text, Converter={x:Static StringConverters.IsNullOrEmpty}}"
                                   VerticalAlignment="Center"
                                   Margin="{TemplateBinding Padding}"
                                   IsHitTestVisible="False" />
                        <ScrollViewer Name="PART_ScrollViewer"
                                      HorizontalScrollBarVisibility="{TemplateBinding (ScrollViewer.HorizontalScrollBarVisibility)}"
                                      VerticalScrollBarVisibility="{TemplateBinding (ScrollViewer.VerticalScrollBarVisibility)}">
                            <Panel>
                                <TextBlock Name="PART_FloatingWatermark"
                                           IsVisible="False" />
                                <TextPresenter Name="PART_TextPresenter"
                                               Text="{TemplateBinding Text, Mode=TwoWay}"
                                               CaretBrush="{TemplateBinding CaretBrush}"
                                               CaretIndex="{TemplateBinding CaretIndex}"
                                               SelectionBrush="{TemplateBinding SelectionBrush}"
                                               SelectionForegroundBrush="{TemplateBinding SelectionForegroundBrush}"
                                               TextAlignment="{TemplateBinding TextAlignment}"
                                               TextWrapping="{TemplateBinding TextWrapping}"
                                               PasswordChar="{TemplateBinding PasswordChar}"
                                               RevealPassword="{TemplateBinding RevealPassword}"
                                               SelectionStart="{TemplateBinding SelectionStart}"
                                               SelectionEnd="{TemplateBinding SelectionEnd}"
                                               Margin="{TemplateBinding Padding}"
                                               VerticalAlignment="Center" />
                            </Panel>
                        </ScrollViewer>
                    </DockPanel>
                </Border>
            </ControlTemplate>
        </Setter>
        <Style Selector="^:focus /template/ Border#PART_BorderElement">
            <Setter Property="BorderBrush" Value="{StaticResource Indigo500Brush}" />
        </Style>
        <Style Selector="^:pointerover /template/ Border#PART_BorderElement">
            <Setter Property="BorderBrush" Value="{StaticResource Indigo400Brush}" />
        </Style>
    </ControlTheme>

    <!-- CheckBox Style -->
    <ControlTheme x:Key="LoginCheckBoxTheme" TargetType="CheckBox">
        <Setter Property="Foreground" Value="{StaticResource Gray400Brush}" />
        <Setter Property="FontSize" Value="14" />
        <Setter Property="Template">
            <ControlTemplate>
                <Border Background="Transparent">
                    <StackPanel Orientation="Horizontal" Spacing="8">
                        <Border Name="CheckBorder"
                                Width="16" Height="16"
                                CornerRadius="4"
                                BorderThickness="1"
                                BorderBrush="#4B5563"
                                Background="Transparent">
                            <Path Name="CheckMark"
                                  Data="M3,7 L6,10 L12,4"
                                  Stroke="White"
                                  StrokeThickness="2"
                                  IsVisible="False"
                                  HorizontalAlignment="Center"
                                  VerticalAlignment="Center"
                                  Stretch="Uniform"
                                  Width="10" Height="8" />
                        </Border>
                        <ContentPresenter Name="PART_ContentPresenter"
                                          Content="{TemplateBinding Content}"
                                          ContentTemplate="{TemplateBinding ContentTemplate}"
                                          VerticalAlignment="Center" />
                    </StackPanel>
                </Border>
            </ControlTemplate>
        </Setter>
        <Style Selector="^:checked /template/ Border#CheckBorder">
            <Setter Property="Background" Value="{StaticResource Indigo500Brush}" />
            <Setter Property="BorderBrush" Value="{StaticResource Indigo500Brush}" />
        </Style>
        <Style Selector="^:checked /template/ Path#CheckMark">
            <Setter Property="IsVisible" Value="True" />
        </Style>
    </ControlTheme>

    <!-- Sign In Button Style -->
    <ControlTheme x:Key="SignInButtonTheme" TargetType="Button">
        <Setter Property="Background" Value="{StaticResource Indigo500Brush}" />
        <Setter Property="Foreground" Value="{StaticResource Gray900Brush}" />
        <Setter Property="FontWeight" Value="Medium" />
        <Setter Property="FontSize" Value="14" />
        <Setter Property="Padding" Value="16,12" />
        <Setter Property="CornerRadius" Value="6" />
        <Setter Property="HorizontalContentAlignment" Value="Center" />
        <Setter Property="Template">
            <ControlTemplate>
                <Border Name="PART_Border"
                        Background="{TemplateBinding Background}"
                        CornerRadius="{TemplateBinding CornerRadius}"
                        Padding="{TemplateBinding Padding}">
                    <ContentPresenter Name="PART_ContentPresenter"
                                      Content="{TemplateBinding Content}"
                                      ContentTemplate="{TemplateBinding ContentTemplate}"
                                      HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                      VerticalAlignment="{TemplateBinding VerticalContentAlignment}" />
                </Border>
            </ControlTemplate>
        </Setter>
        <Style Selector="^:pointerover /template/ Border#PART_Border">
            <Setter Property="Background" Value="{StaticResource Indigo600Brush}" />
        </Style>
        <Style Selector="^:pressed /template/ Border#PART_Border">
            <Setter Property="Background" Value="{StaticResource Indigo600Brush}" />
            <Setter Property="RenderTransform">
                <ScaleTransform ScaleX="0.98" ScaleY="0.98" />
            </Setter>
        </Style>
    </ControlTheme>

    <!-- Link Button Style -->
    <ControlTheme x:Key="LinkButtonTheme" TargetType="Button">
        <Setter Property="Background" Value="Transparent" />
        <Setter Property="Foreground" Value="{StaticResource Indigo500Brush}" />
        <Setter Property="FontWeight" Value="Medium" />
        <Setter Property="FontSize" Value="14" />
        <Setter Property="Padding" Value="0" />
        <Setter Property="Cursor" Value="Hand" />
        <Setter Property="Template">
            <ControlTemplate>
                <Border Background="Transparent">
                    <ContentPresenter Name="PART_ContentPresenter"
                                      Content="{TemplateBinding Content}"
                                      ContentTemplate="{TemplateBinding ContentTemplate}" />
                </Border>
            </ControlTemplate>
        </Setter>
        <Style Selector="^:pointerover">
            <Setter Property="Foreground" Value="{StaticResource Indigo400Brush}" />
        </Style>
    </ControlTheme>

    <!-- Main Control Theme -->
    <ControlTheme x:Key="{x:Type controls:SlipperyDragonfly42}" TargetType="controls:SlipperyDragonfly42">
        <Setter Property="Width" Value="448" />
        <Setter Property="Template">
            <ControlTemplate>
                <Border CornerRadius="8"
                        Background="{StaticResource Gray800Brush}"
                        ClipToBounds="True"
                        BoxShadow="0 10 25 -5 #1A000000, 0 10 10 -5 #0A000000">
                    <DockPanel>
                        <!-- Footer -->
                        <Border DockPanel.Dock="Bottom"
                                Background="{StaticResource Gray700Brush}"
                                Padding="32,16">
                            <StackPanel Orientation="Horizontal"
                                        HorizontalAlignment="Center"
                                        Spacing="4">
                                <TextBlock Text="Don't have an account?"
                                           Foreground="{StaticResource Gray400Brush}"
                                           FontSize="14"
                                           VerticalAlignment="Center" />
                                <Button Theme="{StaticResource LinkButtonTheme}"
                                        Content="Sign up" />
                            </StackPanel>
                        </Border>

                        <!-- Main Content -->
                        <StackPanel Margin="32">
                            <!-- Title -->
                            <TextBlock Text="{TemplateBinding Title}"
                                       Foreground="White"
                                       FontSize="30"
                                       FontWeight="ExtraBold"
                                       HorizontalAlignment="Center" />

                            <!-- Subtitle -->
                            <TextBlock Text="{TemplateBinding Subtitle}"
                                       Foreground="{StaticResource Gray400Brush}"
                                       FontSize="14"
                                       HorizontalAlignment="Center"
                                       Margin="0,16,0,0" />

                            <!-- Form -->
                            <StackPanel Margin="0,32,0,0" Spacing="16">
                                <!-- Email Input -->
                                <TextBox Theme="{StaticResource LoginTextBoxTheme}"
                                         Text="{TemplateBinding Email, Mode=TwoWay}"
                                         Watermark="Email address" />

                                <!-- Password Input -->
                                <TextBox Theme="{StaticResource LoginTextBoxTheme}"
                                         Text="{TemplateBinding Password, Mode=TwoWay}"
                                         PasswordChar="â—"
                                         Watermark="Password" />

                                <!-- Remember Me & Forgot Password -->
                                <DockPanel Margin="0,8,0,0">
                                    <Button DockPanel.Dock="Right"
                                            Theme="{StaticResource LinkButtonTheme}"
                                            Content="Forgot your password?" />
                                    <CheckBox Theme="{StaticResource LoginCheckBoxTheme}"
                                              IsChecked="{TemplateBinding RememberMe, Mode=TwoWay}"
                                              Content="Remember me" />
                                </DockPanel>

                                <!-- Sign In Button -->
                                <Button Theme="{StaticResource SignInButtonTheme}"
                                        Content="Sign In"
                                        HorizontalAlignment="Stretch"
                                        Margin="0,8,0,0" />
                            </StackPanel>
                        </StackPanel>
                    </DockPanel>
                </Border>
            </ControlTemplate>
        </Setter>
    </ControlTheme>

</ResourceDictionary>
