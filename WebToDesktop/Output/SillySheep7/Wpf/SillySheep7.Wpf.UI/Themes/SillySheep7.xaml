<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:controls="clr-namespace:SillySheep7.Wpf.UI.Controls">

    <ResourceDictionary.MergedDictionaries>
        <ResourceDictionary Source="/SillySheep7.Wpf.UI;component/Themes/SillySheep7Resources.xaml"/>
    </ResourceDictionary.MergedDictionaries>

    <!-- RadioButton Style for the dial options -->
    <Style x:Key="SillySheep7RadioButtonStyle" TargetType="{x:Type RadioButton}">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type RadioButton}">
                    <Grid>
                        <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                            <!-- Label -->
                            <TextBlock Text="{TemplateBinding Content}"
                                       FontSize="{StaticResource SillySheep7.Label.FontSize}"
                                       FontWeight="{StaticResource SillySheep7.Label.FontWeight}"
                                       Foreground="{StaticResource SillySheep7.Label.Foreground}"
                                       HorizontalAlignment="Center"
                                       Cursor="Hand"/>
                            <!-- Radio Dot -->
                            <Ellipse Width="{StaticResource SillySheep7.RadioDot.Size}"
                                     Height="{StaticResource SillySheep7.RadioDot.Size}"
                                     Fill="{StaticResource SillySheep7.RadioDot.Background}"
                                     HorizontalAlignment="Center"
                                     Margin="0,4,0,0"/>
                        </StackPanel>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="{x:Type controls:SillySheep7}">
        <Setter Property="Width" Value="{StaticResource SillySheep7.Container.Size}"/>
        <Setter Property="Height" Value="{StaticResource SillySheep7.Container.Size}"/>
        <Setter Property="Cursor" Value="Hand"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type controls:SillySheep7}">
                    <Grid>
                        <!-- Radio Button Path Container -->
                        <Canvas Width="{StaticResource SillySheep7.Container.Size}"
                                Height="{StaticResource SillySheep7.Container.Size}">

                            <!-- Radio Container 1: left=0, top=25%, rotation=-45deg -->
                            <Grid Canvas.Left="16" Canvas.Top="80"
                                  RenderTransformOrigin="0.5,0.5">
                                <Grid.RenderTransform>
                                    <RotateTransform Angle="-45"/>
                                </Grid.RenderTransform>
                                <RadioButton Style="{StaticResource SillySheep7RadioButtonStyle}"
                                             Content="1"
                                             GroupName="SillySheep7Group"
                                             IsChecked="{Binding SelectedIndex, RelativeSource={RelativeSource TemplatedParent}, Converter={x:Static controls:IndexToBoolConverter.Instance}, ConverterParameter=0}"
                                             Command="{x:Static controls:SillySheep7Commands.SelectIndex}"
                                             CommandParameter="0"
                                             CommandTarget="{Binding RelativeSource={RelativeSource TemplatedParent}}"/>
                            </Grid>

                            <!-- Radio Container 2: left=15%, top=5%, rotation=-25deg -->
                            <Grid Canvas.Left="64" Canvas.Top="16"
                                  RenderTransformOrigin="0.5,0.5">
                                <Grid.RenderTransform>
                                    <RotateTransform Angle="-25"/>
                                </Grid.RenderTransform>
                                <RadioButton Style="{StaticResource SillySheep7RadioButtonStyle}"
                                             Content="2"
                                             GroupName="SillySheep7Group"
                                             IsChecked="{Binding SelectedIndex, RelativeSource={RelativeSource TemplatedParent}, Converter={x:Static controls:IndexToBoolConverter.Instance}, ConverterParameter=1}"
                                             Command="{x:Static controls:SillySheep7Commands.SelectIndex}"
                                             CommandParameter="1"
                                             CommandTarget="{Binding RelativeSource={RelativeSource TemplatedParent}}"/>
                            </Grid>

                            <!-- Radio Container 3: left=44%, top=-5%, rotation=0deg -->
                            <Grid Canvas.Left="157" Canvas.Top="0"
                                  RenderTransformOrigin="0.5,0.5">
                                <RadioButton Style="{StaticResource SillySheep7RadioButtonStyle}"
                                             Content="3"
                                             GroupName="SillySheep7Group"
                                             IsChecked="{Binding SelectedIndex, RelativeSource={RelativeSource TemplatedParent}, Converter={x:Static controls:IndexToBoolConverter.Instance}, ConverterParameter=2}"
                                             Command="{x:Static controls:SillySheep7Commands.SelectIndex}"
                                             CommandParameter="2"
                                             CommandTarget="{Binding RelativeSource={RelativeSource TemplatedParent}}"/>
                            </Grid>

                            <!-- Radio Container 4: right=15%, top=5%, rotation=25deg -->
                            <Grid Canvas.Left="240" Canvas.Top="16"
                                  RenderTransformOrigin="0.5,0.5">
                                <Grid.RenderTransform>
                                    <RotateTransform Angle="25"/>
                                </Grid.RenderTransform>
                                <RadioButton Style="{StaticResource SillySheep7RadioButtonStyle}"
                                             Content="4"
                                             GroupName="SillySheep7Group"
                                             IsChecked="{Binding SelectedIndex, RelativeSource={RelativeSource TemplatedParent}, Converter={x:Static controls:IndexToBoolConverter.Instance}, ConverterParameter=3}"
                                             Command="{x:Static controls:SillySheep7Commands.SelectIndex}"
                                             CommandParameter="3"
                                             CommandTarget="{Binding RelativeSource={RelativeSource TemplatedParent}}"/>
                            </Grid>

                            <!-- Radio Container 5: right=0, top=25%, rotation=45deg -->
                            <Grid Canvas.Left="288" Canvas.Top="80"
                                  RenderTransformOrigin="0.5,0.5">
                                <Grid.RenderTransform>
                                    <RotateTransform Angle="45"/>
                                </Grid.RenderTransform>
                                <RadioButton Style="{StaticResource SillySheep7RadioButtonStyle}"
                                             Content="5"
                                             GroupName="SillySheep7Group"
                                             IsChecked="{Binding SelectedIndex, RelativeSource={RelativeSource TemplatedParent}, Converter={x:Static controls:IndexToBoolConverter.Instance}, ConverterParameter=4}"
                                             Command="{x:Static controls:SillySheep7Commands.SelectIndex}"
                                             CommandParameter="4"
                                             CommandTarget="{Binding RelativeSource={RelativeSource TemplatedParent}}"/>
                            </Grid>

                            <!-- Knob: positioned at top=25%, left=50%, translateX(-50%) -->
                            <Border x:Name="Knob"
                                    Canvas.Left="56"
                                    Canvas.Top="80"
                                    Width="{StaticResource SillySheep7.Knob.Size}"
                                    Height="{StaticResource SillySheep7.Knob.Size}"
                                    Background="{StaticResource SillySheep7.Knob.Background}"
                                    BorderBrush="{StaticResource SillySheep7.Knob.BorderBrush}"
                                    BorderThickness="{StaticResource SillySheep7.Knob.BorderThickness}"
                                    CornerRadius="104"
                                    RenderTransformOrigin="0.5,0.5"
                                    ClipToBounds="True">
                                <Border.Effect>
                                    <DropShadowEffect Color="Gray" BlurRadius="3" ShadowDepth="0" Opacity="1"/>
                                </Border.Effect>
                                <Border.RenderTransform>
                                    <RotateTransform x:Name="KnobRotation" Angle="{Binding KnobAngle, RelativeSource={RelativeSource TemplatedParent}}"/>
                                </Border.RenderTransform>

                                <!-- Center Handle -->
                                <Grid>
                                    <Border Width="{StaticResource SillySheep7.Center.Width}"
                                            Background="{StaticResource SillySheep7.Knob.Background}"
                                            CornerRadius="{StaticResource SillySheep7.Center.CornerRadius}"
                                            BorderBrush="{StaticResource SillySheep7.Center.OutlineBrush}"
                                            BorderThickness="1"
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Stretch">
                                        <Border.Effect>
                                            <DropShadowEffect Color="White" BlurRadius="35" ShadowDepth="15" Direction="0" Opacity="0.5"/>
                                        </Border.Effect>

                                        <!-- Indicator Line (::after pseudo-element) -->
                                        <Rectangle Width="{StaticResource SillySheep7.Indicator.Width}"
                                                   Height="{StaticResource SillySheep7.Indicator.Height}"
                                                   Fill="{StaticResource SillySheep7.Indicator.Background}"
                                                   HorizontalAlignment="Center"
                                                   VerticalAlignment="Top"
                                                   Margin="0,2,0,0"/>
                                    </Border>
                                </Grid>
                            </Border>
                        </Canvas>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

</ResourceDictionary>
