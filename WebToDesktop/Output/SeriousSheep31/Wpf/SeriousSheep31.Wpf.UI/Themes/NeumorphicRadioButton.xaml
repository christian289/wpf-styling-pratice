<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:controls="clr-namespace:SeriousSheep31.Wpf.UI.Controls">

    <ResourceDictionary.MergedDictionaries>
        <ResourceDictionary Source="/SeriousSheep31.Wpf.UI;component/Themes/NeumorphicRadioButtonResources.xaml" />
    </ResourceDictionary.MergedDictionaries>

    <!-- NeumorphicRadioButton Style -->
    <Style TargetType="{x:Type controls:NeumorphicRadioButton}">
        <Setter Property="Foreground" Value="{StaticResource NeumorphicRadioButton.Foreground}" />
        <Setter Property="Margin" Value="{StaticResource NeumorphicRadioButton.Item.Margin}" />
        <Setter Property="Cursor" Value="Hand" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type controls:NeumorphicRadioButton}">
                    <Grid>
                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                            <!-- Indicator (outer circle with neumorphic shadow) -->
                            <Grid Width="{StaticResource NeumorphicRadioButton.Indicator.Size}"
                                  Height="{StaticResource NeumorphicRadioButton.Indicator.Size}">

                                <!-- Outer shadow effect using borders -->
                                <!-- box-shadow: -8px -4px 8px 0px #ffffff, 8px 4px 12px 0px #d1d9e6 -->
                                <Border CornerRadius="15" Background="{StaticResource NeumorphicRadioButton.Background}">
                                    <Border.Effect>
                                        <DropShadowEffect Color="{StaticResource NeumorphicRadioButton.Shadow.Dark.Color}"
                                                          BlurRadius="12"
                                                          ShadowDepth="6"
                                                          Direction="315"
                                                          Opacity="0.5" />
                                    </Border.Effect>
                                </Border>

                                <!-- Light shadow (top-left) -->
                                <Border CornerRadius="15" Background="{StaticResource NeumorphicRadioButton.Background}">
                                    <Border.Effect>
                                        <DropShadowEffect Color="{StaticResource NeumorphicRadioButton.Shadow.Light.Color}"
                                                          BlurRadius="8"
                                                          ShadowDepth="4"
                                                          Direction="135"
                                                          Opacity="1" />
                                    </Border.Effect>
                                </Border>

                                <!-- Main indicator background -->
                                <Border CornerRadius="15" Background="{StaticResource NeumorphicRadioButton.Background}" />

                                <!-- Inner circle container -->
                                <Grid Margin="{StaticResource NeumorphicRadioButton.Indicator.InnerOffset}">
                                    <!-- Inner circle shadow (::before equivalent) -->
                                    <!-- box-shadow: -4px -2px 4px 0px #d1d9e6, 4px 2px 8px 0px #fff -->
                                    <Ellipse Width="{StaticResource NeumorphicRadioButton.Indicator.InnerSize}"
                                             Height="{StaticResource NeumorphicRadioButton.Indicator.InnerSize}"
                                             Fill="Transparent">
                                        <Ellipse.Effect>
                                            <DropShadowEffect Color="{StaticResource NeumorphicRadioButton.Shadow.Dark.Color}"
                                                              BlurRadius="4"
                                                              ShadowDepth="2"
                                                              Direction="315"
                                                              Opacity="0.4" />
                                        </Ellipse.Effect>
                                    </Ellipse>

                                    <!-- Inner circle (::after equivalent) - disappears when checked -->
                                    <!-- background-color: #ecf0f3 -->
                                    <!-- box-shadow: -4px -2px 4px 0px #fff, 4px 2px 8px 0px #d1d9e6 -->
                                    <Ellipse x:Name="InnerCircle"
                                             Width="{StaticResource NeumorphicRadioButton.Indicator.InnerSize}"
                                             Height="{StaticResource NeumorphicRadioButton.Indicator.InnerSize}"
                                             Fill="{StaticResource NeumorphicRadioButton.Background}"
                                             RenderTransformOrigin="0.5,0.5">
                                        <Ellipse.Effect>
                                            <DropShadowEffect Color="{StaticResource NeumorphicRadioButton.Shadow.Dark.Color}"
                                                              BlurRadius="8"
                                                              ShadowDepth="3"
                                                              Direction="315"
                                                              Opacity="0.5" />
                                        </Ellipse.Effect>
                                        <Ellipse.RenderTransform>
                                            <TransformGroup>
                                                <ScaleTransform x:Name="InnerCircleScale" ScaleX="1" ScaleY="1" />
                                                <TranslateTransform x:Name="InnerCircleTranslate" Y="0" />
                                            </TransformGroup>
                                        </Ellipse.RenderTransform>
                                    </Ellipse>
                                </Grid>
                            </Grid>

                            <!-- Text label -->
                            <ContentPresenter x:Name="ContentText"
                                              Margin="{StaticResource NeumorphicRadioButton.Text.Margin}"
                                              VerticalAlignment="Center"
                                              Opacity="{StaticResource NeumorphicRadioButton.Text.Opacity.Normal}"
                                              RenderTransformOrigin="0,0.5">
                                <ContentPresenter.RenderTransform>
                                    <TranslateTransform x:Name="TextTranslate" X="0" />
                                </ContentPresenter.RenderTransform>
                            </ContentPresenter>
                        </StackPanel>
                    </Grid>

                    <ControlTemplate.Triggers>
                        <!-- Checked state: hide inner circle with animation -->
                        <!-- transform: scale3d(0.975, 0.975, 1) translate3d(0, 10%, 0); opacity: 0 -->
                        <Trigger Property="IsChecked" Value="True">
                            <Trigger.EnterActions>
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation Storyboard.TargetName="InnerCircle"
                                                         Storyboard.TargetProperty="Opacity"
                                                         To="0"
                                                         Duration="0:0:0.25">
                                            <DoubleAnimation.EasingFunction>
                                                <SineEase EasingMode="EaseInOut" />
                                            </DoubleAnimation.EasingFunction>
                                        </DoubleAnimation>
                                        <DoubleAnimation Storyboard.TargetName="InnerCircleScale"
                                                         Storyboard.TargetProperty="ScaleX"
                                                         To="0.975"
                                                         Duration="0:0:0.25">
                                            <DoubleAnimation.EasingFunction>
                                                <SineEase EasingMode="EaseInOut" />
                                            </DoubleAnimation.EasingFunction>
                                        </DoubleAnimation>
                                        <DoubleAnimation Storyboard.TargetName="InnerCircleScale"
                                                         Storyboard.TargetProperty="ScaleY"
                                                         To="0.975"
                                                         Duration="0:0:0.25">
                                            <DoubleAnimation.EasingFunction>
                                                <SineEase EasingMode="EaseInOut" />
                                            </DoubleAnimation.EasingFunction>
                                        </DoubleAnimation>
                                        <DoubleAnimation Storyboard.TargetName="InnerCircleTranslate"
                                                         Storyboard.TargetProperty="Y"
                                                         To="2.4"
                                                         Duration="0:0:0.25">
                                            <DoubleAnimation.EasingFunction>
                                                <SineEase EasingMode="EaseInOut" />
                                            </DoubleAnimation.EasingFunction>
                                        </DoubleAnimation>
                                    </Storyboard>
                                </BeginStoryboard>
                            </Trigger.EnterActions>
                            <Trigger.ExitActions>
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation Storyboard.TargetName="InnerCircle"
                                                         Storyboard.TargetProperty="Opacity"
                                                         To="1"
                                                         Duration="0:0:0.25">
                                            <DoubleAnimation.EasingFunction>
                                                <SineEase EasingMode="EaseInOut" />
                                            </DoubleAnimation.EasingFunction>
                                        </DoubleAnimation>
                                        <DoubleAnimation Storyboard.TargetName="InnerCircleScale"
                                                         Storyboard.TargetProperty="ScaleX"
                                                         To="1"
                                                         Duration="0:0:0.25">
                                            <DoubleAnimation.EasingFunction>
                                                <SineEase EasingMode="EaseInOut" />
                                            </DoubleAnimation.EasingFunction>
                                        </DoubleAnimation>
                                        <DoubleAnimation Storyboard.TargetName="InnerCircleScale"
                                                         Storyboard.TargetProperty="ScaleY"
                                                         To="1"
                                                         Duration="0:0:0.25">
                                            <DoubleAnimation.EasingFunction>
                                                <SineEase EasingMode="EaseInOut" />
                                            </DoubleAnimation.EasingFunction>
                                        </DoubleAnimation>
                                        <DoubleAnimation Storyboard.TargetName="InnerCircleTranslate"
                                                         Storyboard.TargetProperty="Y"
                                                         To="0"
                                                         Duration="0:0:0.25">
                                            <DoubleAnimation.EasingFunction>
                                                <SineEase EasingMode="EaseInOut" />
                                            </DoubleAnimation.EasingFunction>
                                        </DoubleAnimation>
                                    </Storyboard>
                                </BeginStoryboard>
                            </Trigger.ExitActions>
                        </Trigger>

                        <!-- Hover state: show full opacity text -->
                        <!-- opacity: 1 -->
                        <Trigger Property="IsMouseOver" Value="True">
                            <Trigger.EnterActions>
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation Storyboard.TargetName="ContentText"
                                                         Storyboard.TargetProperty="Opacity"
                                                         To="1"
                                                         Duration="0:0:0.2" />
                                    </Storyboard>
                                </BeginStoryboard>
                            </Trigger.EnterActions>
                            <Trigger.ExitActions>
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation Storyboard.TargetName="ContentText"
                                                         Storyboard.TargetProperty="Opacity"
                                                         To="{StaticResource NeumorphicRadioButton.Text.Opacity.Normal}"
                                                         Duration="0:0:0.2" />
                                    </Storyboard>
                                </BeginStoryboard>
                            </Trigger.ExitActions>
                        </Trigger>

                        <!-- Focus state: translate text and full opacity -->
                        <!-- transform: translate3d(8px, 0, 0); opacity: 1 -->
                        <Trigger Property="IsFocused" Value="True">
                            <Trigger.EnterActions>
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation Storyboard.TargetName="TextTranslate"
                                                         Storyboard.TargetProperty="X"
                                                         To="8"
                                                         Duration="0:0:0.2">
                                            <DoubleAnimation.EasingFunction>
                                                <QuadraticEase EasingMode="EaseOut" />
                                            </DoubleAnimation.EasingFunction>
                                        </DoubleAnimation>
                                        <DoubleAnimation Storyboard.TargetName="ContentText"
                                                         Storyboard.TargetProperty="Opacity"
                                                         To="1"
                                                         Duration="0:0:0.2" />
                                    </Storyboard>
                                </BeginStoryboard>
                            </Trigger.EnterActions>
                            <Trigger.ExitActions>
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation Storyboard.TargetName="TextTranslate"
                                                         Storyboard.TargetProperty="X"
                                                         To="0"
                                                         Duration="0:0:0.2">
                                            <DoubleAnimation.EasingFunction>
                                                <QuadraticEase EasingMode="EaseOut" />
                                            </DoubleAnimation.EasingFunction>
                                        </DoubleAnimation>
                                        <DoubleAnimation Storyboard.TargetName="ContentText"
                                                         Storyboard.TargetProperty="Opacity"
                                                         To="{StaticResource NeumorphicRadioButton.Text.Opacity.Normal}"
                                                         Duration="0:0:0.2" />
                                    </Storyboard>
                                </BeginStoryboard>
                            </Trigger.ExitActions>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- NeumorphicRadioButtonGroup Style -->
    <Style TargetType="{x:Type controls:NeumorphicRadioButtonGroup}">
        <Setter Property="Background" Value="{StaticResource NeumorphicRadioButton.Background}" />
        <Setter Property="Padding" Value="{StaticResource NeumorphicRadioButton.Group.Padding}" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type controls:NeumorphicRadioButtonGroup}">
                    <Grid>
                        <!-- Outer shadow layers for neumorphic effect -->
                        <!-- box-shadow: 4px 4px 4px 0px #d1d9e6 inset, -4px -4px 4px 0px #ffffff inset -->

                        <!-- Dark shadow (bottom-right inset) -->
                        <Border CornerRadius="{StaticResource NeumorphicRadioButton.Group.CornerRadius}"
                                Background="{StaticResource NeumorphicRadioButton.Background}">
                            <Border.Effect>
                                <DropShadowEffect Color="{StaticResource NeumorphicRadioButton.Shadow.Dark.Color}"
                                                  BlurRadius="4"
                                                  ShadowDepth="4"
                                                  Direction="315"
                                                  Opacity="0.6" />
                            </Border.Effect>
                        </Border>

                        <!-- Light shadow (top-left inset) -->
                        <Border CornerRadius="{StaticResource NeumorphicRadioButton.Group.CornerRadius}"
                                Background="{StaticResource NeumorphicRadioButton.Background}">
                            <Border.Effect>
                                <DropShadowEffect Color="{StaticResource NeumorphicRadioButton.Shadow.Light.Color}"
                                                  BlurRadius="4"
                                                  ShadowDepth="4"
                                                  Direction="135"
                                                  Opacity="1" />
                            </Border.Effect>
                        </Border>

                        <!-- Main container with inset shadow simulation -->
                        <Border x:Name="MainBorder"
                                CornerRadius="{StaticResource NeumorphicRadioButton.Group.CornerRadius}"
                                Background="{StaticResource NeumorphicRadioButton.Background}"
                                Padding="{TemplateBinding Padding}">

                            <!-- Inner shadow overlay for inset effect -->
                            <Border.BorderBrush>
                                <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                    <GradientStop Color="#30D1D9E6" Offset="0" />
                                    <GradientStop Color="#00D1D9E6" Offset="0.3" />
                                    <GradientStop Color="#00FFFFFF" Offset="0.7" />
                                    <GradientStop Color="#30FFFFFF" Offset="1" />
                                </LinearGradientBrush>
                            </Border.BorderBrush>
                            <Border.BorderThickness>
                                <Thickness>4</Thickness>
                            </Border.BorderThickness>

                            <ItemsPresenter />
                        </Border>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
        <Setter Property="ItemsPanel">
            <Setter.Value>
                <ItemsPanelTemplate>
                    <StackPanel Orientation="Vertical" />
                </ItemsPanelTemplate>
            </Setter.Value>
        </Setter>
    </Style>

</ResourceDictionary>
