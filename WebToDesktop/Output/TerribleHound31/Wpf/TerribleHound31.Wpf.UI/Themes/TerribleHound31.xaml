<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:controls="clr-namespace:TerribleHound31.Wpf.UI.Controls">

    <ResourceDictionary.MergedDictionaries>
        <ResourceDictionary Source="/TerribleHound31.Wpf.UI;component/Themes/TerribleHound31Resources.xaml"/>
    </ResourceDictionary.MergedDictionaries>

    <Style TargetType="{x:Type controls:TerribleHound31}">
        <Setter Property="Width" Value="{StaticResource TerribleHound31.Size}"/>
        <Setter Property="Height" Value="{StaticResource TerribleHound31.Size}"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type controls:TerribleHound31}">
                    <Grid>
                        <!-- ::before - 잎 (Leaf) - z-index: -1 이므로 먼저 선언 -->
                        <Border x:Name="Leaf"
                                Width="{StaticResource TerribleHound31.Leaf.Width}"
                                Height="{StaticResource TerribleHound31.Leaf.Height}"
                                Background="{StaticResource TerribleHound31.Leaf.Background}"
                                CornerRadius="{StaticResource TerribleHound31.Leaf.CornerRadius}"
                                HorizontalAlignment="Left"
                                VerticalAlignment="Top"
                                Margin="{StaticResource TerribleHound31.Leaf.Margin}"
                                Panel.ZIndex="0">
                            <Border.Effect>
                                <DropShadowEffect Color="{StaticResource TerribleHound31.Leaf.Shadow.Color}"
                                                  BlurRadius="6"
                                                  ShadowDepth="3"
                                                  Direction="-90"
                                                  Opacity="0.695"/>
                            </Border.Effect>
                        </Border>

                        <!-- 메인 과일 (Main fruit body) -->
                        <Border x:Name="MainBody"
                                Width="{StaticResource TerribleHound31.Size}"
                                Height="{StaticResource TerribleHound31.Size}"
                                Background="{StaticResource TerribleHound31.Background}"
                                CornerRadius="{StaticResource TerribleHound31.CornerRadius}"
                                Panel.ZIndex="1">
                            <Border.Effect>
                                <DropShadowEffect Color="{StaticResource TerribleHound31.Shadow.Color}"
                                                  BlurRadius="10"
                                                  ShadowDepth="0"
                                                  Opacity="1"/>
                            </Border.Effect>

                            <!-- ::after - 이모지 (Emoji with animation) -->
                            <TextBlock x:Name="Emoji"
                                       Text="&#x1F60B;"
                                       FontSize="{StaticResource TerribleHound31.Emoji.FontSize}"
                                       FontFamily="{StaticResource TerribleHound31.Emoji.FontFamily}"
                                       HorizontalAlignment="Center"
                                       VerticalAlignment="Center"
                                       Opacity="1">
                                <TextBlock.Triggers>
                                    <EventTrigger RoutedEvent="Loaded">
                                        <BeginStoryboard>
                                            <Storyboard RepeatBehavior="Forever" AutoReverse="True">
                                                <!-- opacity: 0.1 → 1 → 0.1, duration: 1s -->
                                                <DoubleAnimation Storyboard.TargetName="Emoji"
                                                                 Storyboard.TargetProperty="Opacity"
                                                                 From="0.1"
                                                                 To="1"
                                                                 Duration="0:0:1"/>
                                            </Storyboard>
                                        </BeginStoryboard>
                                    </EventTrigger>
                                </TextBlock.Triggers>
                            </TextBlock>
                        </Border>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

</ResourceDictionary>
