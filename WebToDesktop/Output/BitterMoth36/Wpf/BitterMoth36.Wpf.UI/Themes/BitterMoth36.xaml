<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:controls="clr-namespace:BitterMoth36.Wpf.UI.Controls">

    <ResourceDictionary.MergedDictionaries>
        <ResourceDictionary Source="/BitterMoth36.Wpf.UI;component/Themes/BitterMoth36Resources.xaml"/>
    </ResourceDictionary.MergedDictionaries>

    <Style TargetType="{x:Type controls:BitterMoth36}">
        <Setter Property="Width" Value="{StaticResource BitterMoth36.Container.Size}"/>
        <Setter Property="Height" Value="{StaticResource BitterMoth36.Container.Size}"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type controls:BitterMoth36}">
                    <!--
                    전체 컨테이너 회전 (CSS: animation: rotation_19 1s linear infinite)
                    Entire container rotation
                    -->
                    <Grid x:Name="Container"
                          Width="{TemplateBinding Width}"
                          Height="{TemplateBinding Height}"
                          RenderTransformOrigin="0.5,0.5">
                        <Grid.RenderTransform>
                            <RotateTransform x:Name="ContainerRotation" Angle="0"/>
                        </Grid.RenderTransform>

                        <!--
                        상단 원 (CSS: ::after - top: 0)
                        Top circle - positioned at top, scales from 0 to 1 to 0
                        -->
                        <Ellipse x:Name="TopCircle"
                                 Width="{StaticResource BitterMoth36.Circle.Size}"
                                 Height="{StaticResource BitterMoth36.Circle.Size}"
                                 Fill="{StaticResource BitterMoth36.TopCircle.Background}"
                                 VerticalAlignment="Top"
                                 HorizontalAlignment="Center"
                                 RenderTransformOrigin="0.5,0.5">
                            <Ellipse.RenderTransform>
                                <ScaleTransform x:Name="TopCircleScale" ScaleX="0" ScaleY="0"/>
                            </Ellipse.RenderTransform>
                        </Ellipse>

                        <!--
                        하단 원 (CSS: ::before - bottom: 0, animation-delay: 0.5s)
                        Bottom circle - positioned at bottom, scales with 0.5s delay
                        -->
                        <Ellipse x:Name="BottomCircle"
                                 Width="{StaticResource BitterMoth36.Circle.Size}"
                                 Height="{StaticResource BitterMoth36.Circle.Size}"
                                 Fill="{StaticResource BitterMoth36.BottomCircle.Background}"
                                 VerticalAlignment="Bottom"
                                 HorizontalAlignment="Center"
                                 RenderTransformOrigin="0.5,0.5">
                            <Ellipse.RenderTransform>
                                <ScaleTransform x:Name="BottomCircleScale" ScaleX="0" ScaleY="0"/>
                            </Ellipse.RenderTransform>
                        </Ellipse>
                    </Grid>

                    <ControlTemplate.Triggers>
                        <EventTrigger RoutedEvent="Loaded">
                            <BeginStoryboard>
                                <Storyboard RepeatBehavior="Forever">
                                    <!--
                                    컨테이너 360도 회전 (1초, linear)
                                    Container 360-degree rotation (1 second, linear)
                                    -->
                                    <DoubleAnimation Storyboard.TargetName="ContainerRotation"
                                                     Storyboard.TargetProperty="Angle"
                                                     From="0" To="360"
                                                     Duration="0:0:1"/>

                                    <!--
                                    상단 원 스케일 애니메이션 (0→1→0, 1초, ease-in-out)
                                    Top circle scale animation (0→1→0, 1 second, ease-in-out)
                                    CSS: animation: scale50 1s infinite ease-in-out
                                    -->
                                    <DoubleAnimationUsingKeyFrames Storyboard.TargetName="TopCircleScale"
                                                                    Storyboard.TargetProperty="ScaleX">
                                        <EasingDoubleKeyFrame KeyTime="0:0:0" Value="0"/>
                                        <EasingDoubleKeyFrame KeyTime="0:0:0.5" Value="1">
                                            <EasingDoubleKeyFrame.EasingFunction>
                                                <SineEase EasingMode="EaseInOut"/>
                                            </EasingDoubleKeyFrame.EasingFunction>
                                        </EasingDoubleKeyFrame>
                                        <EasingDoubleKeyFrame KeyTime="0:0:1" Value="0">
                                            <EasingDoubleKeyFrame.EasingFunction>
                                                <SineEase EasingMode="EaseInOut"/>
                                            </EasingDoubleKeyFrame.EasingFunction>
                                        </EasingDoubleKeyFrame>
                                    </DoubleAnimationUsingKeyFrames>

                                    <DoubleAnimationUsingKeyFrames Storyboard.TargetName="TopCircleScale"
                                                                    Storyboard.TargetProperty="ScaleY">
                                        <EasingDoubleKeyFrame KeyTime="0:0:0" Value="0"/>
                                        <EasingDoubleKeyFrame KeyTime="0:0:0.5" Value="1">
                                            <EasingDoubleKeyFrame.EasingFunction>
                                                <SineEase EasingMode="EaseInOut"/>
                                            </EasingDoubleKeyFrame.EasingFunction>
                                        </EasingDoubleKeyFrame>
                                        <EasingDoubleKeyFrame KeyTime="0:0:1" Value="0">
                                            <EasingDoubleKeyFrame.EasingFunction>
                                                <SineEase EasingMode="EaseInOut"/>
                                            </EasingDoubleKeyFrame.EasingFunction>
                                        </EasingDoubleKeyFrame>
                                    </DoubleAnimationUsingKeyFrames>

                                    <!--
                                    하단 원 스케일 애니메이션 (0.5초 딜레이, 0→1→0)
                                    Bottom circle scale animation (0.5s delay, 0→1→0)
                                    CSS: animation-delay: 0.5s
                                    -->
                                    <DoubleAnimationUsingKeyFrames Storyboard.TargetName="BottomCircleScale"
                                                                    Storyboard.TargetProperty="ScaleX"
                                                                    BeginTime="0:0:0.5">
                                        <EasingDoubleKeyFrame KeyTime="0:0:0" Value="0"/>
                                        <EasingDoubleKeyFrame KeyTime="0:0:0.5" Value="1">
                                            <EasingDoubleKeyFrame.EasingFunction>
                                                <SineEase EasingMode="EaseInOut"/>
                                            </EasingDoubleKeyFrame.EasingFunction>
                                        </EasingDoubleKeyFrame>
                                        <EasingDoubleKeyFrame KeyTime="0:0:1" Value="0">
                                            <EasingDoubleKeyFrame.EasingFunction>
                                                <SineEase EasingMode="EaseInOut"/>
                                            </EasingDoubleKeyFrame.EasingFunction>
                                        </EasingDoubleKeyFrame>
                                    </DoubleAnimationUsingKeyFrames>

                                    <DoubleAnimationUsingKeyFrames Storyboard.TargetName="BottomCircleScale"
                                                                    Storyboard.TargetProperty="ScaleY"
                                                                    BeginTime="0:0:0.5">
                                        <EasingDoubleKeyFrame KeyTime="0:0:0" Value="0"/>
                                        <EasingDoubleKeyFrame KeyTime="0:0:0.5" Value="1">
                                            <EasingDoubleKeyFrame.EasingFunction>
                                                <SineEase EasingMode="EaseInOut"/>
                                            </EasingDoubleKeyFrame.EasingFunction>
                                        </EasingDoubleKeyFrame>
                                        <EasingDoubleKeyFrame KeyTime="0:0:1" Value="0">
                                            <EasingDoubleKeyFrame.EasingFunction>
                                                <SineEase EasingMode="EaseInOut"/>
                                            </EasingDoubleKeyFrame.EasingFunction>
                                        </EasingDoubleKeyFrame>
                                    </DoubleAnimationUsingKeyFrames>
                                </Storyboard>
                            </BeginStoryboard>
                        </EventTrigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

</ResourceDictionary>
