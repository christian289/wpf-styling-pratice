<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:controls="clr-namespace:QuietHorse20.Wpf.UI.Controls">

    <ResourceDictionary.MergedDictionaries>
        <ResourceDictionary Source="/QuietHorse20.Wpf.UI;component/Themes/QuietHorse20Resources.xaml" />
    </ResourceDictionary.MergedDictionaries>

    <Style TargetType="{x:Type controls:QuietHorse20}">
        <Setter Property="Cursor" Value="Hand" />
        <Setter Property="FocusVisualStyle" Value="{x:Null}" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type controls:QuietHorse20}">
                    <!-- Container (outer border with shadow) -->
                    <Border x:Name="Container"
                            Background="{StaticResource QuietHorse20.Container.Background}"
                            CornerRadius="{StaticResource QuietHorse20.Container.CornerRadius}"
                            Effect="{StaticResource QuietHorse20.Container.Shadow.Normal}">

                        <!-- Inner Button -->
                        <Border x:Name="InnerButton"
                                Background="{StaticResource QuietHorse20.Button.Background}"
                                CornerRadius="{StaticResource QuietHorse20.Button.CornerRadius}"
                                Margin="{StaticResource QuietHorse20.Button.Margin}"
                                Padding="{StaticResource QuietHorse20.Button.Padding}">

                            <!-- Content: Icon + Text -->
                            <StackPanel Orientation="Horizontal"
                                        HorizontalAlignment="Center"
                                        VerticalAlignment="Center">

                                <!-- Paper Plane Icon -->
                                <Path x:Name="Icon"
                                      Data="{StaticResource QuietHorse20.Icon.PaperPlane}"
                                      Stroke="{StaticResource QuietHorse20.Text.Foreground}"
                                      StrokeThickness="2"
                                      StrokeLineJoin="Round"
                                      StrokeStartLineCap="Round"
                                      StrokeEndLineCap="Round"
                                      Width="{StaticResource QuietHorse20.Icon.Width}"
                                      Height="{StaticResource QuietHorse20.Icon.Height}"
                                      Stretch="Uniform"
                                      Margin="0,0,5,0"
                                      VerticalAlignment="Center" />

                                <!-- Text -->
                                <TextBlock x:Name="ButtonText"
                                           Text="{TemplateBinding Text}"
                                           Foreground="{StaticResource QuietHorse20.Text.Foreground}"
                                           FontSize="{StaticResource QuietHorse20.Font.Size}"
                                           FontWeight="{StaticResource QuietHorse20.Font.Weight}"
                                           VerticalAlignment="Center" />
                            </StackPanel>
                        </Border>
                    </Border>

                    <ControlTemplate.Triggers>
                        <!-- Hover State -->
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="Container" Property="Effect"
                                    Value="{StaticResource QuietHorse20.Container.Shadow.Hover}" />
                        </Trigger>

                        <!-- Pressed State -->
                        <Trigger Property="IsPressed" Value="True">
                            <Setter TargetName="Container" Property="Effect"
                                    Value="{StaticResource QuietHorse20.Container.Shadow.Pressed}" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

</ResourceDictionary>
