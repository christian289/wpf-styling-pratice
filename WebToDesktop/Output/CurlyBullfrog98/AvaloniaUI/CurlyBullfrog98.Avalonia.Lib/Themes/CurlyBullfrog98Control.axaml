<ResourceDictionary xmlns="https://github.com/avaloniaui"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:controls="using:CurlyBullfrog98.Avalonia.Lib.Controls">

    <!--
    Original CSS: From Uiverse.io by Bodyhc - Tags: loading, loader, cube, loading animation, 3d loader

    Note: CSS 3D transforms (perspective, preserve-3d, translateZ) are not supported in AvaloniaUI.
    This implementation uses 2D transforms with scale and rotation to simulate 3D cube rotation effect.
    CSS 3D 변환(perspective, preserve-3d, translateZ)은 AvaloniaUI에서 지원되지 않습니다.
    이 구현은 2D 변환(scale, rotation)을 사용하여 3D 큐브 회전 효과를 시뮬레이션합니다.
    -->

    <!-- Color Resources -->
    <Color x:Key="CurlyBullfrog98.CubeColor">#01b4f9</Color>
    <Color x:Key="CurlyBullfrog98.BorderColor">#FFFFFF</Color>
    <SolidColorBrush x:Key="CurlyBullfrog98.CubeBrush" Color="{StaticResource CurlyBullfrog98.CubeColor}"/>
    <SolidColorBrush x:Key="CurlyBullfrog98.BorderBrush" Color="{StaticResource CurlyBullfrog98.BorderColor}"/>

    <!-- Size Resources -->
    <x:Double x:Key="CurlyBullfrog98.DefaultSize">200</x:Double>
    <CornerRadius x:Key="CurlyBullfrog98.CornerRadius">10</CornerRadius>
    <Thickness x:Key="CurlyBullfrog98.BorderThickness">3</Thickness>

    <ControlTheme x:Key="{x:Type controls:CurlyBullfrog98Control}" TargetType="controls:CurlyBullfrog98Control">
        <Setter Property="CubeSize" Value="{StaticResource CurlyBullfrog98.DefaultSize}"/>
        <Setter Property="CubeBackground" Value="{StaticResource CurlyBullfrog98.CubeBrush}"/>
        <Setter Property="CubeBorderBrush" Value="{StaticResource CurlyBullfrog98.BorderBrush}"/>
        <Setter Property="Template">
            <ControlTemplate TargetType="controls:CurlyBullfrog98Control">
                <Panel Width="{TemplateBinding CubeSize}"
                       Height="{TemplateBinding CubeSize}"
                       HorizontalAlignment="Center"
                       VerticalAlignment="Center">

                    <!-- Cube Container with rotation animation -->
                    <!-- 2D 시뮬레이션: 스케일과 회전을 조합하여 3D 효과 구현 -->
                    <Panel x:Name="PART_CubeContainer"
                           RenderTransformOrigin="0.5,0.5">
                        <Panel.RenderTransform>
                            <RotateTransform Angle="0"/>
                        </Panel.RenderTransform>

                        <!-- Side edge effect (simulates 3D depth - rendered first, behind others) -->
                        <Border x:Name="PART_SideEdge"
                                Width="{TemplateBinding CubeSize}"
                                Height="{TemplateBinding CubeSize}"
                                Background="{TemplateBinding CubeBackground}"
                                BorderBrush="{TemplateBinding CubeBorderBrush}"
                                BorderThickness="{StaticResource CurlyBullfrog98.BorderThickness}"
                                CornerRadius="{StaticResource CurlyBullfrog98.CornerRadius}"
                                Opacity="0.3"
                                RenderTransformOrigin="0.5,0.5">
                            <Border.RenderTransform>
                                <TransformGroup>
                                    <ScaleTransform ScaleX="0.6" ScaleY="0.6"/>
                                    <TranslateTransform X="40" Y="-40"/>
                                </TransformGroup>
                            </Border.RenderTransform>
                        </Border>

                        <!-- Back face (appears during rotation) -->
                        <Border x:Name="PART_BackFace"
                                Width="{TemplateBinding CubeSize}"
                                Height="{TemplateBinding CubeSize}"
                                Background="{TemplateBinding CubeBackground}"
                                BorderBrush="{TemplateBinding CubeBorderBrush}"
                                BorderThickness="{StaticResource CurlyBullfrog98.BorderThickness}"
                                CornerRadius="{StaticResource CurlyBullfrog98.CornerRadius}"
                                Opacity="0.5"
                                RenderTransformOrigin="0.5,0.5">
                            <Border.RenderTransform>
                                <TransformGroup>
                                    <ScaleTransform ScaleX="0.8" ScaleY="0.8"/>
                                    <TranslateTransform X="20" Y="-20"/>
                                </TransformGroup>
                            </Border.RenderTransform>
                        </Border>

                        <!-- Front face (main visible face) -->
                        <Border x:Name="PART_FrontFace"
                                Width="{TemplateBinding CubeSize}"
                                Height="{TemplateBinding CubeSize}"
                                Background="{TemplateBinding CubeBackground}"
                                BorderBrush="{TemplateBinding CubeBorderBrush}"
                                BorderThickness="{StaticResource CurlyBullfrog98.BorderThickness}"
                                CornerRadius="{StaticResource CurlyBullfrog98.CornerRadius}"
                                RenderTransformOrigin="0.5,0.5">
                            <Border.RenderTransform>
                                <ScaleTransform ScaleX="1" ScaleY="1"/>
                            </Border.RenderTransform>
                        </Border>

                        <!-- Animation for continuous rotation -->
                        <Panel.Styles>
                            <Style Selector="Panel#PART_CubeContainer">
                                <Style.Animations>
                                    <!-- Main rotation animation (simulates rotateX + rotateY) -->
                                    <Animation Duration="0:0:4" IterationCount="Infinite">
                                        <KeyFrame Cue="0%">
                                            <Setter Property="RenderTransform" Value="rotate(0deg)"/>
                                        </KeyFrame>
                                        <KeyFrame Cue="100%">
                                            <Setter Property="RenderTransform" Value="rotate(360deg)"/>
                                        </KeyFrame>
                                    </Animation>
                                </Style.Animations>
                            </Style>

                            <!-- Front face scale animation (simulates Z-depth) -->
                            <Style Selector="Border#PART_FrontFace">
                                <Style.Animations>
                                    <Animation Duration="0:0:2" IterationCount="Infinite" PlaybackDirection="Alternate">
                                        <KeyFrame Cue="0%">
                                            <Setter Property="RenderTransform" Value="scale(1,1)"/>
                                            <Setter Property="Opacity" Value="1"/>
                                        </KeyFrame>
                                        <KeyFrame Cue="100%">
                                            <Setter Property="RenderTransform" Value="scale(0.85,0.85)"/>
                                            <Setter Property="Opacity" Value="0.9"/>
                                        </KeyFrame>
                                    </Animation>
                                </Style.Animations>
                            </Style>

                            <!-- Back face animation -->
                            <Style Selector="Border#PART_BackFace">
                                <Style.Animations>
                                    <Animation Duration="0:0:2" IterationCount="Infinite" PlaybackDirection="Alternate">
                                        <KeyFrame Cue="0%">
                                            <Setter Property="Opacity" Value="0.5"/>
                                        </KeyFrame>
                                        <KeyFrame Cue="100%">
                                            <Setter Property="Opacity" Value="0.8"/>
                                        </KeyFrame>
                                    </Animation>
                                </Style.Animations>
                            </Style>

                            <!-- Side edge animation -->
                            <Style Selector="Border#PART_SideEdge">
                                <Style.Animations>
                                    <Animation Duration="0:0:2" IterationCount="Infinite" PlaybackDirection="Alternate">
                                        <KeyFrame Cue="0%">
                                            <Setter Property="Opacity" Value="0.3"/>
                                        </KeyFrame>
                                        <KeyFrame Cue="100%">
                                            <Setter Property="Opacity" Value="0.6"/>
                                        </KeyFrame>
                                    </Animation>
                                </Style.Animations>
                            </Style>
                        </Panel.Styles>
                    </Panel>
                </Panel>
            </ControlTemplate>
        </Setter>
    </ControlTheme>

</ResourceDictionary>
