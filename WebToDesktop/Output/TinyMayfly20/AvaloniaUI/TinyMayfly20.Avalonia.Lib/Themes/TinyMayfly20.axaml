<ResourceDictionary xmlns="https://github.com/avaloniaui"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:controls="using:TinyMayfly20.Avalonia.Lib.Controls">

    <!-- Colors -->
    <Color x:Key="TinyMayfly20.Background">#18532c</Color>
    <Color x:Key="TinyMayfly20.Parchment.Background">#FFFCD3</Color>
    <Color x:Key="TinyMayfly20.Parchment.Border">#E99C54</Color>
    <Color x:Key="TinyMayfly20.Text.Hover">#ffbb00</Color>
    <Color x:Key="TinyMayfly20.Power.Hover">#ff7700</Color>

    <!-- Brushes -->
    <SolidColorBrush x:Key="TinyMayfly20.Background.Brush" Color="{StaticResource TinyMayfly20.Background}"/>
    <SolidColorBrush x:Key="TinyMayfly20.Parchment.Background.Brush" Color="{StaticResource TinyMayfly20.Parchment.Background}"/>
    <SolidColorBrush x:Key="TinyMayfly20.Parchment.Border.Brush" Color="{StaticResource TinyMayfly20.Parchment.Border}"/>

    <!-- ControlTheme for TinyMayfly20 -->
    <ControlTheme x:Key="{x:Type controls:TinyMayfly20}" TargetType="controls:TinyMayfly20">
        <Setter Property="Width" Value="250"/>
        <Setter Property="Height" Value="280"/>
        <Setter Property="ClipToBounds" Value="False"/>
        <Setter Property="Template">
            <ControlTemplate>
                <Border x:Name="PART_Root"
                        Background="{StaticResource TinyMayfly20.Background.Brush}"
                        CornerRadius="14"
                        Width="250"
                        Height="60"
                        ClipToBounds="False"
                        RenderTransformOrigin="0.5,0.5">
                    <Border.RenderTransform>
                        <TranslateTransform Y="0"/>
                    </Border.RenderTransform>

                    <Panel ClipToBounds="False">
                        <!-- Goku Character Container -->
                        <Panel x:Name="PART_GokuContainer"
                               HorizontalAlignment="Left"
                               VerticalAlignment="Top"
                               Margin="-25,-110,0,0"
                               ClipToBounds="False"
                               RenderTransformOrigin="0.5,0.5">
                            <Panel.RenderTransform>
                                <ScaleTransform ScaleX="0.5" ScaleY="0.5"/>
                            </Panel.RenderTransform>

                            <!-- Head -->
                            <controls:PixelArtControl x:Name="PART_Head"
                                                       Pixels="{x:Static controls:GokuPixelData.Head}"
                                                       OffsetY="0"
                                                       Width="300"
                                                       Height="250"
                                                       ClipToBounds="False"/>

                            <!-- Body -->
                            <controls:PixelArtControl x:Name="PART_Body"
                                                       Pixels="{x:Static controls:GokuPixelData.Body}"
                                                       OffsetY="220"
                                                       Width="300"
                                                       Height="200"
                                                       ClipToBounds="False"/>

                            <!-- Leg -->
                            <controls:PixelArtControl x:Name="PART_Leg"
                                                       Pixels="{x:Static controls:GokuPixelData.Leg}"
                                                       OffsetY="300"
                                                       Width="300"
                                                       Height="200"
                                                       ClipToBounds="False"/>

                            <!-- Shadow -->
                            <controls:PixelArtControl x:Name="PART_Shadow"
                                                       Pixels="{x:Static controls:GokuPixelData.Shadow}"
                                                       OffsetY="450"
                                                       Width="300"
                                                       Height="60"
                                                       ClipToBounds="False"/>
                        </Panel>

                        <!-- Parchment Background -->
                        <!-- Note: CSS dashed border is not directly supported in AvaloniaUI Border -->
                        <!-- 참고: CSS의 dashed border는 AvaloniaUI Border에서 직접 지원하지 않음 -->
                        <Border x:Name="PART_Parchment"
                                Background="{StaticResource TinyMayfly20.Parchment.Background.Brush}"
                                BorderBrush="{StaticResource TinyMayfly20.Parchment.Border.Brush}"
                                BorderThickness="1"
                                CornerRadius="5"
                                Width="100"
                                Height="100"
                                HorizontalAlignment="Right"
                                VerticalAlignment="Top"
                                Margin="0,-45,0,0"
                                ZIndex="-1"
                                RenderTransformOrigin="0.5,0.5">
                            <Border.RenderTransform>
                                <TranslateTransform Y="0"/>
                            </Border.RenderTransform>
                        </Border>

                        <!-- Text Container -->
                        <StackPanel x:Name="PART_TextContainer"
                                    HorizontalAlignment="Right"
                                    VerticalAlignment="Top"
                                    Margin="0,-40,5,0"
                                    Width="90">

                            <TextBlock x:Name="PART_Title"
                                       Text="{TemplateBinding Title}"
                                       FontSize="16"
                                       FontFamily="Consolas, monospace"
                                       HorizontalAlignment="Center"
                                       Margin="0,0,0,2"
                                       RenderTransformOrigin="0.5,0.5">
                                <TextBlock.RenderTransform>
                                    <TranslateTransform Y="0"/>
                                </TextBlock.RenderTransform>
                            </TextBlock>

                            <TextBlock x:Name="PART_Subtitle"
                                       Text="{TemplateBinding Subtitle}"
                                       FontSize="10"
                                       FontFamily="Consolas, monospace"
                                       HorizontalAlignment="Center"
                                       RenderTransformOrigin="0.5,0.5">
                                <TextBlock.RenderTransform>
                                    <TransformGroup>
                                        <ScaleTransform ScaleX="1.1" ScaleY="1.1"/>
                                        <TranslateTransform Y="0"/>
                                    </TransformGroup>
                                </TextBlock.RenderTransform>
                            </TextBlock>

                            <TextBlock x:Name="PART_Power"
                                       Text="{TemplateBinding PowerText}"
                                       FontSize="22"
                                       FontWeight="Black"
                                       FontFamily="Consolas, monospace"
                                       HorizontalAlignment="Center"
                                       Margin="0,2,0,0"
                                       RenderTransformOrigin="0.5,0.5">
                                <TextBlock.RenderTransform>
                                    <TranslateTransform Y="0"/>
                                </TextBlock.RenderTransform>
                            </TextBlock>
                        </StackPanel>
                    </Panel>
                </Border>
            </ControlTemplate>
        </Setter>

        <!-- Hover Animation -->
        <Style Selector="^:pointerover /template/ Border#PART_Root">
            <Style.Animations>
                <Animation Duration="0:0:0.5" Easing="CubicEaseOut" FillMode="Forward">
                    <KeyFrame Cue="100%">
                        <Setter Property="RenderTransform">
                            <TranslateTransform Y="-8"/>
                        </Setter>
                    </KeyFrame>
                </Animation>
            </Style.Animations>
        </Style>

        <Style Selector="^:not(:pointerover) /template/ Border#PART_Root">
            <Style.Animations>
                <Animation Duration="0:0:0.5" Easing="CubicEaseOut" FillMode="Forward">
                    <KeyFrame Cue="100%">
                        <Setter Property="RenderTransform">
                            <TranslateTransform Y="0"/>
                        </Setter>
                    </KeyFrame>
                </Animation>
            </Style.Animations>
        </Style>

        <!-- Parchment Hover -->
        <Style Selector="^:pointerover /template/ Border#PART_Parchment">
            <Style.Animations>
                <Animation Duration="0:0:0.5" Easing="CubicEaseOut" FillMode="Forward">
                    <KeyFrame Cue="100%">
                        <Setter Property="RenderTransform">
                            <TranslateTransform Y="-8"/>
                        </Setter>
                    </KeyFrame>
                </Animation>
            </Style.Animations>
        </Style>

        <Style Selector="^:not(:pointerover) /template/ Border#PART_Parchment">
            <Style.Animations>
                <Animation Duration="0:0:0.5" Easing="CubicEaseOut" FillMode="Forward">
                    <KeyFrame Cue="100%">
                        <Setter Property="RenderTransform">
                            <TranslateTransform Y="0"/>
                        </Setter>
                    </KeyFrame>
                </Animation>
            </Style.Animations>
        </Style>

        <!-- Text Hover Animations -->
        <Style Selector="^:pointerover /template/ TextBlock#PART_Title">
            <Setter Property="Foreground" Value="#ffbb00"/>
            <Style.Animations>
                <Animation Duration="0:0:0.5" Easing="CubicEaseOut" FillMode="Forward">
                    <KeyFrame Cue="100%">
                        <Setter Property="RenderTransform">
                            <TranslateTransform Y="-8"/>
                        </Setter>
                    </KeyFrame>
                </Animation>
            </Style.Animations>
        </Style>

        <Style Selector="^:not(:pointerover) /template/ TextBlock#PART_Title">
            <Setter Property="Foreground" Value="Black"/>
            <Style.Animations>
                <Animation Duration="0:0:0.5" Easing="CubicEaseOut" FillMode="Forward">
                    <KeyFrame Cue="100%">
                        <Setter Property="RenderTransform">
                            <TranslateTransform Y="0"/>
                        </Setter>
                    </KeyFrame>
                </Animation>
            </Style.Animations>
        </Style>

        <Style Selector="^:pointerover /template/ TextBlock#PART_Subtitle">
            <Style.Animations>
                <Animation Duration="0:0:0.5" Easing="CubicEaseOut" FillMode="Forward">
                    <KeyFrame Cue="100%">
                        <Setter Property="RenderTransform">
                            <TransformGroup>
                                <ScaleTransform ScaleX="1.1" ScaleY="1.1"/>
                                <TranslateTransform Y="-8"/>
                            </TransformGroup>
                        </Setter>
                    </KeyFrame>
                </Animation>
            </Style.Animations>
        </Style>

        <Style Selector="^:not(:pointerover) /template/ TextBlock#PART_Subtitle">
            <Style.Animations>
                <Animation Duration="0:0:0.5" Easing="CubicEaseOut" FillMode="Forward">
                    <KeyFrame Cue="100%">
                        <Setter Property="RenderTransform">
                            <TransformGroup>
                                <ScaleTransform ScaleX="1.1" ScaleY="1.1"/>
                                <TranslateTransform Y="0"/>
                            </TransformGroup>
                        </Setter>
                    </KeyFrame>
                </Animation>
            </Style.Animations>
        </Style>

        <Style Selector="^:pointerover /template/ TextBlock#PART_Power">
            <Setter Property="Foreground" Value="#ff7700"/>
            <Style.Animations>
                <Animation Duration="0:0:0.5" Easing="CubicEaseOut" FillMode="Forward">
                    <KeyFrame Cue="100%">
                        <Setter Property="RenderTransform">
                            <TranslateTransform Y="-8"/>
                        </Setter>
                    </KeyFrame>
                </Animation>
            </Style.Animations>
        </Style>

        <Style Selector="^:not(:pointerover) /template/ TextBlock#PART_Power">
            <Setter Property="Foreground" Value="Black"/>
            <Style.Animations>
                <Animation Duration="0:0:0.5" Easing="CubicEaseOut" FillMode="Forward">
                    <KeyFrame Cue="100%">
                        <Setter Property="RenderTransform">
                            <TranslateTransform Y="0"/>
                        </Setter>
                    </KeyFrame>
                </Animation>
            </Style.Animations>
        </Style>

        <!-- Head Bobbing Animation -->
        <Style Selector="^ /template/ controls|PixelArtControl#PART_Head">
            <Style.Animations>
                <Animation Duration="0:0:1" IterationCount="Infinite" Easing="LinearEasing">
                    <KeyFrame Cue="0%">
                        <Setter Property="OffsetY" Value="0"/>
                    </KeyFrame>
                    <KeyFrame Cue="50%">
                        <Setter Property="OffsetY" Value="6"/>
                    </KeyFrame>
                    <KeyFrame Cue="100%">
                        <Setter Property="OffsetY" Value="0"/>
                    </KeyFrame>
                </Animation>
            </Style.Animations>
        </Style>

        <!-- Body Bobbing Animation -->
        <Style Selector="^ /template/ controls|PixelArtControl#PART_Body">
            <Style.Animations>
                <Animation Duration="0:0:1" IterationCount="Infinite" Easing="LinearEasing">
                    <KeyFrame Cue="0%">
                        <Setter Property="OffsetY" Value="220"/>
                    </KeyFrame>
                    <KeyFrame Cue="50%">
                        <Setter Property="OffsetY" Value="223"/>
                    </KeyFrame>
                    <KeyFrame Cue="100%">
                        <Setter Property="OffsetY" Value="220"/>
                    </KeyFrame>
                </Animation>
            </Style.Animations>
        </Style>
    </ControlTheme>

</ResourceDictionary>
