<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:controls="clr-namespace:GentleFly78.Wpf.UI.Controls">

    <ResourceDictionary.MergedDictionaries>
        <ResourceDictionary Source="/GentleFly78.Wpf.UI;component/Themes/GentleFly78Resources.xaml"/>
    </ResourceDictionary.MergedDictionaries>

    <!-- Emoji Button Style -->
    <!-- 이모지 버튼 스타일 -->
    <Style x:Key="GentleFly78.EmojiButtonStyle" TargetType="{x:Type Button}">
        <Setter Property="FontSize" Value="{StaticResource GentleFly78.Button.FontSize}"/>
        <Setter Property="Margin" Value="{StaticResource GentleFly78.Button.Margin}"/>
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="BorderThickness" Value="0"/>
        <Setter Property="Cursor" Value="Hand"/>
        <Setter Property="RenderTransformOrigin" Value="0.5,0.5"/>
        <Setter Property="RenderTransform">
            <Setter.Value>
                <ScaleTransform ScaleX="1" ScaleY="1"/>
            </Setter.Value>
        </Setter>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type Button}">
                    <Border Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}">
                        <ContentPresenter HorizontalAlignment="Center"
                                          VerticalAlignment="Center"/>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
        <Style.Triggers>
            <EventTrigger RoutedEvent="MouseEnter">
                <BeginStoryboard>
                    <Storyboard>
                        <DoubleAnimation Storyboard.TargetProperty="RenderTransform.ScaleX"
                                         To="{StaticResource GentleFly78.Button.HoverScale}"
                                         Duration="0:0:0.5"/>
                        <DoubleAnimation Storyboard.TargetProperty="RenderTransform.ScaleY"
                                         To="{StaticResource GentleFly78.Button.HoverScale}"
                                         Duration="0:0:0.5"/>
                    </Storyboard>
                </BeginStoryboard>
            </EventTrigger>
            <EventTrigger RoutedEvent="MouseLeave">
                <BeginStoryboard>
                    <Storyboard>
                        <DoubleAnimation Storyboard.TargetProperty="RenderTransform.ScaleX"
                                         To="{StaticResource GentleFly78.Button.NormalScale}"
                                         Duration="0:0:0.5"/>
                        <DoubleAnimation Storyboard.TargetProperty="RenderTransform.ScaleY"
                                         To="{StaticResource GentleFly78.Button.NormalScale}"
                                         Duration="0:0:0.5"/>
                    </Storyboard>
                </BeginStoryboard>
            </EventTrigger>
        </Style.Triggers>
    </Style>

    <!-- Main Control Style -->
    <!-- 메인 컨트롤 스타일 -->
    <Style TargetType="{x:Type controls:GentleFly78}">
        <Setter Property="Width" Value="{StaticResource GentleFly78.Card.Width}"/>
        <Setter Property="Height" Value="{StaticResource GentleFly78.Card.Height}"/>
        <Setter Property="Background" Value="{StaticResource GentleFly78.Card.Background}"/>
        <Setter Property="Effect" Value="{StaticResource GentleFly78.Card.Shadow}"/>
        <Setter Property="ClipToBounds" Value="True"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type controls:GentleFly78}">
                    <Border x:Name="PART_Border"
                            Background="{TemplateBinding Background}"
                            CornerRadius="{StaticResource GentleFly78.Card.CornerRadius}"
                            ClipToBounds="True">
                        <Canvas x:Name="PART_Canvas" ClipToBounds="True">
                            <!-- First set of items (original) -->
                            <!-- 첫 번째 아이템 세트 (원본) -->
                            <StackPanel x:Name="PART_ItemsPanel1"
                                        Orientation="Horizontal"
                                        Canvas.Top="0"
                                        VerticalAlignment="Center"
                                        Height="{TemplateBinding Height}">
                                <StackPanel.RenderTransform>
                                    <TranslateTransform x:Name="SlideTransform1"/>
                                </StackPanel.RenderTransform>
                                <ItemsPresenter/>
                            </StackPanel>

                            <!-- Second set of items (duplicate for seamless loop) -->
                            <!-- 두 번째 아이템 세트 (끊김 없는 루프를 위한 복제) -->
                            <StackPanel x:Name="PART_ItemsPanel2"
                                        Orientation="Horizontal"
                                        Canvas.Top="0"
                                        VerticalAlignment="Center"
                                        Height="{TemplateBinding Height}">
                                <StackPanel.RenderTransform>
                                    <TranslateTransform x:Name="SlideTransform2"/>
                                </StackPanel.RenderTransform>
                                <ItemsControl ItemsSource="{Binding ItemsSource, RelativeSource={RelativeSource TemplatedParent}}"
                                              ItemTemplate="{Binding ItemTemplate, RelativeSource={RelativeSource TemplatedParent}}">
                                    <ItemsControl.ItemsPanel>
                                        <ItemsPanelTemplate>
                                            <StackPanel Orientation="Horizontal"/>
                                        </ItemsPanelTemplate>
                                    </ItemsControl.ItemsPanel>
                                </ItemsControl>
                            </StackPanel>
                        </Canvas>
                    </Border>
                    <ControlTemplate.Triggers>
                        <EventTrigger RoutedEvent="Loaded">
                            <BeginStoryboard x:Name="SlideStoryboard">
                                <Storyboard RepeatBehavior="Forever">
                                    <!-- First panel slides from 0 to -ActualWidth -->
                                    <DoubleAnimation Storyboard.TargetName="SlideTransform1"
                                                     Storyboard.TargetProperty="X"
                                                     From="0"
                                                     To="-400"
                                                     Duration="0:0:5"/>
                                    <!-- Second panel follows -->
                                    <DoubleAnimation Storyboard.TargetName="SlideTransform2"
                                                     Storyboard.TargetProperty="X"
                                                     From="400"
                                                     To="0"
                                                     Duration="0:0:5"/>
                                </Storyboard>
                            </BeginStoryboard>
                        </EventTrigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
        <Setter Property="ItemsPanel">
            <Setter.Value>
                <ItemsPanelTemplate>
                    <StackPanel Orientation="Horizontal"/>
                </ItemsPanelTemplate>
            </Setter.Value>
        </Setter>
    </Style>

</ResourceDictionary>
