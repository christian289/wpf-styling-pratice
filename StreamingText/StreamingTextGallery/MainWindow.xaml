<Window x:Class="StreamingTextGallery.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:local="clr-namespace:StreamingTextGallery"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:st="clr-namespace:StreamingTextLib;assembly=StreamingTextLib"
        Title="StreamingText Control Demo"
        Width="1200"
        Height="900"
        Background="#F8F9FA"
        mc:Ignorable="d">
    <Window.Resources>
        <!--  공통 스타일  -->
        <Style x:Key="SectionHeader"
               TargetType="TextBlock">
            <Setter Property="FontSize" Value="18" />
            <Setter Property="FontWeight" Value="SemiBold" />
            <Setter Property="Foreground" Value="#1F2937" />
            <Setter Property="Margin" Value="0,20,0,10" />
        </Style>

        <Style x:Key="Description"
               TargetType="TextBlock">
            <Setter Property="FontSize" Value="12" />
            <Setter Property="Foreground" Value="#6B7280" />
            <Setter Property="Margin" Value="0,0,0,10" />
            <Setter Property="TextWrapping" Value="Wrap" />
        </Style>

        <Style x:Key="DemoButton"
               TargetType="Button">
            <Setter Property="Background" Value="#3B82F6" />
            <Setter Property="Foreground" Value="White" />
            <Setter Property="FontSize" Value="14" />
            <Setter Property="FontWeight" Value="SemiBold" />
            <Setter Property="Padding" Value="16,8" />
            <Setter Property="Margin" Value="5" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="Cursor" Value="Hand" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Padding="{TemplateBinding Padding}"
                                Background="{TemplateBinding Background}"
                                CornerRadius="6">
                            <ContentPresenter HorizontalAlignment="Center"
                                              VerticalAlignment="Center" />
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#2563EB" />
                </Trigger>
            </Style.Triggers>
        </Style>

        <Style x:Key="StopButton"
               BasedOn="{StaticResource DemoButton}"
               TargetType="Button">
            <Setter Property="Background" Value="#EF4444" />
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#DC2626" />
                </Trigger>
            </Style.Triggers>
        </Style>

        <Style x:Key="DemoCard"
               TargetType="Border">
            <Setter Property="Background" Value="White" />
            <Setter Property="BorderBrush" Value="#E5E7EB" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="CornerRadius" Value="8" />
            <Setter Property="Padding" Value="20" />
            <Setter Property="Margin" Value="0,10" />
        </Style>
    </Window.Resources>

    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel Margin="40,30">
            <!--  헤더  -->
            <TextBlock Margin="0,0,0,10"
                       FontSize="32"
                       FontWeight="Bold"
                       Foreground="#111827"
                       Text="StreamingText Control Gallery" />
            <TextBlock Margin="0,0,0,30"
                       FontSize="16"
                       Foreground="#6B7280"
                       Text="실시간 타이핑 효과를 제공하는 WPF 컨트롤 데모" />

            <!--  1. 기본 스타일 데모  -->
            <TextBlock Style="{StaticResource SectionHeader}"
                       Text="1. 기본 스타일 (Default Style)" />
            <TextBlock Style="{StaticResource Description}"
                       Text="가장 기본적인 스타일입니다. 타이핑 중에는 커서(▊)가 표시됩니다." />
            <Border Style="{StaticResource DemoCard}">
                <StackPanel>
                    <st:StreamingTextControl x:Name="DefaultStreamingText"
                                             CharactersPerSecond="30"
                                             FontSize="16"
                                             Text="안녕하세요! 이것은 StreamingTextControl의 기본 스타일입니다. 텍스트가 실시간으로 타이핑되는 듯한 효과를 제공합니다. Claude나 ChatGPT처럼 자연스러운 사용자 경험을 만들 수 있습니다." />
                    <StackPanel Margin="0,15,0,0"
                                Orientation="Horizontal">
                        <Button Click="RestartDefault_Click"
                                Content="다시 시작"
                                Style="{StaticResource DemoButton}" />
                        <Button Click="StopDefault_Click"
                                Content="중지"
                                Style="{StaticResource StopButton}" />
                        <Button Click="SkipDefault_Click"
                                Content="건너뛰기"
                                Style="{StaticResource DemoButton}" />
                    </StackPanel>
                </StackPanel>
            </Border>

            <!--  2. ChatBot 스타일 데모  -->
            <TextBlock Style="{StaticResource SectionHeader}"
                       Text="2. ChatBot 스타일" />
            <TextBlock Style="{StaticResource Description}"
                       Text="AI 챗봇에 적합한 다크 테마 스타일입니다." />
            <Border Style="{StaticResource DemoCard}">
                <StackPanel>
                    <st:StreamingTextControl x:Name="ChatBotStreamingText"
                                             CharactersPerSecond="40"
                                             Style="{StaticResource ChatBotStyle}"
                                             Text="저는 AI 어시스턴트입니다. 이 스타일은 ChatGPT나 Claude와 같은 AI 챗봇 인터페이스에 최적화되어 있습니다. 어두운 배경에 밝은 텍스트로 가독성이 뛰어나며, 모노스페이스 폰트를 사용하여 코드나 기술적인 내용을 표시하기에도 좋습니다." />
                    <StackPanel Margin="0,15,0,0"
                                Orientation="Horizontal">
                        <Button Click="RestartChatBot_Click"
                                Content="다시 시작"
                                Style="{StaticResource DemoButton}" />
                        <Button Click="StopChatBot_Click"
                                Content="중지"
                                Style="{StaticResource StopButton}" />
                    </StackPanel>
                </StackPanel>
            </Border>

            <!--  3. Simple 스타일 데모  -->
            <TextBlock Style="{StaticResource SectionHeader}"
                       Text="3. Simple 스타일" />
            <TextBlock Style="{StaticResource Description}"
                       Text="최소한의 디자인으로 어떤 배경에도 잘 어울립니다." />
            <Border Style="{StaticResource DemoCard}">
                <StackPanel>
                    <st:StreamingTextControl x:Name="SimpleStreamingText"
                                             CharactersPerSecond="50"
                                             Style="{StaticResource SimpleStyle}"
                                             Text="심플한 스타일입니다. 불필요한 장식 없이 텍스트에 집중합니다." />
                    <StackPanel Margin="0,15,0,0"
                                Orientation="Horizontal">
                        <Button Click="RestartSimple_Click"
                                Content="다시 시작"
                                Style="{StaticResource DemoButton}" />
                        <Button Click="StopSimple_Click"
                                Content="중지"
                                Style="{StaticResource StopButton}" />
                    </StackPanel>
                </StackPanel>
            </Border>

            <!--  4. 속도 조절 데모  -->
            <TextBlock Style="{StaticResource SectionHeader}"
                       Text="4. 속도 조절 (Speed Control)" />
            <TextBlock Style="{StaticResource Description}"
                       Text="CharactersPerSecond 속성으로 타이핑 속도를 조절할 수 있습니다." />
            <Border Style="{StaticResource DemoCard}">
                <StackPanel>
                    <StackPanel Margin="0,0,0,15"
                                Orientation="Horizontal">
                        <TextBlock Margin="0,0,10,0"
                                   VerticalAlignment="Center"
                                   FontSize="14"
                                   Text="속도: " />
                        <Slider x:Name="SpeedSlider"
                                Width="300"
                                VerticalAlignment="Center"
                                IsSnapToTickEnabled="True"
                                Maximum="200"
                                Minimum="1"
                                TickFrequency="10"
                                Value="50" />
                        <TextBlock Margin="15,0,0,0"
                                   VerticalAlignment="Center"
                                   FontSize="14"
                                   FontWeight="SemiBold"
                                   Foreground="#3B82F6"
                                   Text="{Binding Value, ElementName=SpeedSlider, StringFormat={}{0:F0} chars/sec}" />
                    </StackPanel>
                    <st:StreamingTextControl x:Name="SpeedControlText"
                                             CharactersPerSecond="{Binding Value, ElementName=SpeedSlider}"
                                             FontSize="16"
                                             Text="속도를 조절해보세요! 슬라이더를 움직여서 타이핑 속도를 변경할 수 있습니다. 느리게 하면 각 글자를 또렷하게 볼 수 있고, 빠르게 하면 즉각적인 응답처럼 느껴집니다." />
                    <StackPanel Margin="0,15,0,0"
                                Orientation="Horizontal">
                        <Button Click="RestartSpeed_Click"
                                Content="다시 시작"
                                Style="{StaticResource DemoButton}" />
                        <Button Click="SetSlow_Click"
                                Content="아주 느리게 (10)"
                                Style="{StaticResource DemoButton}" />
                        <Button Click="SetNormal_Click"
                                Content="보통 (50)"
                                Style="{StaticResource DemoButton}" />
                        <Button Click="SetFast_Click"
                                Content="매우 빠르게 (200)"
                                Style="{StaticResource DemoButton}" />
                    </StackPanel>
                </StackPanel>
            </Border>

            <!--  5. 수동 제어 데모  -->
            <TextBlock Style="{StaticResource SectionHeader}"
                       Text="5. 수동 제어 (Manual Control)" />
            <TextBlock Style="{StaticResource Description}"
                       Text="AutoStart를 false로 설정하면 수동으로 스트리밍을 제어할 수 있습니다." />
            <Border Style="{StaticResource DemoCard}">
                <StackPanel>
                    <st:StreamingTextControl x:Name="ManualStreamingText"
                                             AutoStart="False"
                                             CharactersPerSecond="35"
                                             FontSize="16"
                                             Text="이 텍스트는 자동으로 시작되지 않습니다. '시작' 버튼을 눌러야 스트리밍이 시작됩니다. 이런 방식으로 사용자가 원할 때만 애니메이션을 표시할 수 있습니다." />
                    <StackPanel Margin="0,15,0,0"
                                Orientation="Horizontal">
                        <Button Click="StartManual_Click"
                                Content="시작"
                                Style="{StaticResource DemoButton}" />
                        <Button Click="StopManual_Click"
                                Content="중지"
                                Style="{StaticResource StopButton}" />
                        <Button Click="ResetManual_Click"
                                Content="리셋"
                                Style="{StaticResource DemoButton}" />
                        <Button Click="SkipManual_Click"
                                Content="건너뛰기"
                                Style="{StaticResource DemoButton}" />
                    </StackPanel>
                </StackPanel>
            </Border>

            <!--  6. 커스텀 텍스트 입력  -->
            <TextBlock Style="{StaticResource SectionHeader}"
                       Text="6. 커스텀 텍스트 (Custom Text)" />
            <TextBlock Style="{StaticResource Description}"
                       Text="원하는 텍스트를 입력하고 스트리밍 효과를 확인해보세요." />
            <Border Style="{StaticResource DemoCard}">
                <StackPanel>
                    <TextBox x:Name="CustomTextBox"
                             Height="100"
                             Margin="0,0,0,15"
                             Padding="10"
                             AcceptsReturn="True"
                             BorderBrush="#D1D5DB"
                             BorderThickness="1"
                             FontSize="14"
                             TextWrapping="Wrap">
                        <TextBox.Text>여기에 원하는 텍스트를 입력하세요. 긴 텍스트도 괜찮습니다. 여러 줄로 작성할 수도 있어요! 스트리밍 효과가 어떻게 보이는지 확인해보세요.</TextBox.Text>
                    </TextBox>
                    <st:StreamingTextControl x:Name="CustomStreamingText"
                                             AutoStart="False"
                                             CharactersPerSecond="45"
                                             FontSize="16"
                                             Text="{Binding Text, ElementName=CustomTextBox}" />
                    <StackPanel Margin="0,15,0,0"
                                Orientation="Horizontal">
                        <Button Click="StartCustom_Click"
                                Content="스트리밍 시작"
                                Style="{StaticResource DemoButton}" />
                        <Button Click="StopCustom_Click"
                                Content="중지"
                                Style="{StaticResource StopButton}" />
                    </StackPanel>
                </StackPanel>
            </Border>

            <!--  7. 긴 텍스트 데모  -->
            <TextBlock Style="{StaticResource SectionHeader}"
                       Text="7. 긴 텍스트 예제 (Long Text)" />
            <TextBlock Style="{StaticResource Description}"
                       Text="긴 텍스트도 자연스럽게 처리됩니다." />
            <Border Style="{StaticResource DemoCard}">
                <StackPanel>
                    <st:StreamingTextControl x:Name="LongStreamingText"
                                             CharactersPerSecond="60"
                                             FontSize="15"
                                             Foreground="#374151"
                                             Text="StreamingTextControl은 WPF 애플리케이션에서 실시간 타이핑 효과를 구현하기 위한 커스텀 컨트롤입니다. 이 컨트롤은 Claude Desktop이나 ChatGPT와 같은 AI 챗봇 인터페이스에서 볼 수 있는 스트리밍 텍스트 효과를 재현합니다.&#x0a;&#x0a;주요 기능으로는 속도 조절 가능한 타이핑 애니메이션, 자동/수동 시작 모드, 다양한 스타일 옵션이 있습니다. CharactersPerSecond 속성을 통해 타이핑 속도를 자유롭게 조절할 수 있으며, 1에서 200까지 다양한 값을 설정할 수 있습니다.&#x0a;&#x0a;또한 IsStreaming 속성으로 현재 스트리밍 상태를 확인할 수 있고, StreamingCompleted 이벤트를 통해 스트리밍 완료 시점을 감지할 수 있습니다. 이를 활용하면 다음 메시지를 자동으로 표시하거나 UI를 업데이트하는 등의 작업을 수행할 수 있습니다." />
                    <StackPanel Margin="0,15,0,0"
                                Orientation="Horizontal">
                        <Button Click="RestartLong_Click"
                                Content="다시 시작"
                                Style="{StaticResource DemoButton}" />
                        <Button Click="StopLong_Click"
                                Content="중지"
                                Style="{StaticResource StopButton}" />
                        <Button Click="SkipLong_Click"
                                Content="건너뛰기"
                                Style="{StaticResource DemoButton}" />
                    </StackPanel>
                </StackPanel>
            </Border>

            <TextBlock Margin="0,40,0,20"
                       HorizontalAlignment="Center"
                       FontSize="12"
                       Foreground="#9CA3AF"
                       Text="Developed with ❤️ using WPF" />
        </StackPanel>
    </ScrollViewer>
</Window>
